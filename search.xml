<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[Butterknifeä½¿ç”¨åŠæºç å­¦ä¹ ]]></title>
    <url>%2F2017%2F06%2F09%2FButterKnife%E4%BD%BF%E7%94%A8%E5%8F%8A%E6%BA%90%E7%A0%81%E5%AD%A6%E4%B9%A0%2F</url>
    <content type="text"><![CDATA[æœ¬ç¯‡æ–‡ç« ä¼šè®²è§£ButterKnifeæ¡†æž¶çš„ä½¿ç”¨ï¼ˆå½“å‰ç‰ˆæœ¬ä¸º8.6.0ï¼‰ï¼Œæ³¨è§£çš„æ¦‚å¿µç”¨æ³•åŠåˆ†ç±»ï¼Œå¹¶ä¸”ä¼šé€šè¿‡ButterKnifeæºç å­¦ä¹ æ›´åŠ æ·±å…¥çš„äº†è§£æ³¨è§£ã€‚ å‰è¨€æœ€è¿‘ç•¥å¾®æœ‰ç‚¹å¿™ï¼Œä¹‹å‰è¯´å¥½çš„RNå®žè·µé¡¹ç›®å’Œé¢å‘å¯¹è±¡çš„å­¦ä¹ ä¸€åº¦è¢«ææµ…ðŸ˜ªï¼Œæˆ‘å°½é‡æŠ“ç´§ç‚¹æ—¶é—´å§ã€‚è¶ç€å‘¨æœ«å¿™ä¸­å·é—²ï¼Œæ¥å­¦ä¹ ä¸‹ä¾èµ–æ³¨è§£æ¡†æž¶butterKnifeï¼Œå½“å‰æœ€æ–°ç‰ˆæœ¬ä¸º8.6.0ï¼Œæºç githubåœ°å€ä¸ºè¿™é‡Œã€‚ ButterKnifeä½¿ç”¨æ·»åŠ ä¾èµ–1234dependencies &#123; compile &apos;com.jakewharton:butterknife:8.6.0&apos; annotationProcessor &apos;com.jakewharton:butterknife-compiler:8.6.0&apos;&#125; å®˜æ–¹ä½¿ç”¨ç¤ºä¾‹1234567891011121314151617class ExampleActivity extends Activity &#123; @BindView(R.id.user) EditText username; @BindView(R.id.pass) EditText password; @BindString(R.string.login_error) String loginErrorMessage; @OnClick(R.id.submit) void submit() &#123; // TODO call server... &#125; @Override public void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.simple_activity); ButterKnife.bind(this); // TODO Use fields... &#125;&#125; å½“ç„¶å¯ä»¥ä½¿ç”¨çš„æ³¨è§£æœ‰å¾ˆå¤šï¼Œä¸‹è½½æºç å¯çœ‹åˆ°æ‰€æœ‰å¯ä»¥æ·»åŠ çš„æ³¨è§£å¦‚ä¸‹ å¦‚æžœä»¥ä¸Šçš„æ³¨è§£ä½ è§‰å¾—ä½¿ç”¨èµ·æ¥è¿˜æ˜¯ä¸å¤Ÿé€šç•…ï¼Œè¿˜éœ€è¦åœ¨ä»£ç ä¸­å†™@bindä¹‹ç±»çš„æ³¨è§£ï¼Œé‚£ä¹ˆä½ è¿˜å¯ä»¥ä½¿ç”¨ASæ’ä»¶æ¥è¾…åŠ©æ³¨è§£ä»£ç çš„ç”Ÿæˆï¼Œæ’ä»¶çš„åå­—å’Œå®‰è£…å¦‚ä¸‹å›¾æ‰€ç¤ºæ’ä»¶çš„ä½¿ç”¨ï¼Œå¦‚ä¸‹å›¾ åˆšå¼€å§‹æŽ¥è§¦butterKnifeçš„æ—¶å€™ï¼Œåªæ˜¯è§‰å¾—ä½¿ç”¨èµ·æ¥å¥½çˆ½å•Šï¼Œç»ˆäºŽå‘Šåˆ«äº†findviewbyidè¿™ç§ä½“åŠ›æ´»äº†ï¼Œé£žä¸€èˆ¬çš„æ„Ÿè§‰ã€‚ä½†æ˜¯butterKnifeæ˜¯å¦‚ä½•å®žçŽ°çš„å‘¢ï¼Ÿé‚£ä¹ˆæŽ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬æžèµ·æ¥å§ã€‚è‡´æ•¬å¤§ç¥žðŸ™ã€‚ éœ€è¦äº†è§£çš„çŸ¥è¯†ä¸‹é¢åˆ—å‡ºçš„çŸ¥è¯†ç‚¹ï¼Œå¦‚æœ‰ç–‘é—®å¼ºçƒˆå»ºè®®å¤§å®¶æŸ¥çœ‹1 Javaæ³¨è§£2 Javaæ³¨è§£å¤„ç†å™¨(è¿™é‡Œæœ‰è‹±æ–‡åŽŸç‰ˆ)3 Javaåå°„æœºåˆ¶(æŸ¥çœ‹æœ¬ç«™Javaåå°„å­¦ä¹ å®žè·µ)4 android Gradle2.2å‘å¸ƒæ›´æ–°æä¾›çš„annotationProcessoråŠŸèƒ½ï¼ˆä¹‹å‰çš„APTï¼‰å…¶å®žå­¦ä¹ å®Œæºç ä¹‹åŽï¼Œä½ æ‰ä¼šäº†è§£åˆ°JakeWhartonå¤§ç¥žçš„è‹±é›„æ± åˆ°åº•æœ‰å¤šæ·±ï¼ æ³¨è§£è™½ç„¶ä¸Šé¢å»ºè®®å¤§å®¶åŽ»äº†è§£Javaæ³¨è§£å’Œæ³¨è§£å¤„ç†å™¨ç›¸å…³çŸ¥è¯†ï¼Œä½†æ˜¯è¿˜æ˜¯å†³å®šç®€å•ä»‹ç»ä¸‹ç›¸å…³çŸ¥è¯†å§ðŸ’• æ³¨è§£çš„å®šä¹‰æ³¨è§£ç®€å•æ¥è¯´ï¼Œå­˜å‚¨ä¸€äº›æˆ‘ä»¬éœ€è¦çš„æ•°æ®ï¼Œåœ¨ç¼–è¯‘æ—¶æˆ–è€…è¿è¡Œæ—¶è°ƒç”¨ æ³¨è§£ï¼ˆä¹Ÿè¢«æˆä¸ºå…ƒæ•°æ®ï¼‰ä¸ºæˆ‘ä»¬åœ¨ä»£ç ä¸­æ·»åŠ ä¿¡æ¯æä¾›äº†ä¸€ç§å½¢å¼åŒ–çš„æ–¹æ³•ï¼Œä½¿æˆ‘ä»¬å¯ä»¥åœ¨ç¨åŽæŸä¸ªæ—¶åˆ»éžå¸¸æ–¹ä¾¿åœ°ä½¿ç”¨è¿™äº›æ•°æ®ã€‚ â€”â€”â€”â€”â€”â€”æ‘˜è‡ªã€ŠThinking in Javaã€‹page.620 æ³¨è§£çš„åˆ†ç±»####æŒ‰ç…§Java5æä¾›çš„æ ‡å‡†æ¥åˆ†ç±»1 å†…ç½®æ³¨è§£ï¼ˆä¸‰ç§ï¼‰ @overrideï¼ˆå¤§å®¶æ¯”è¾ƒå¸¸è§ï¼‰ã€è¡¨ç¤ºå½“å‰æ–¹æ³•å®šä¹‰å°†é‡å†™çš„çˆ¶ç±»æ–¹æ³•ï¼Œå¦‚æžœç¼–å†™æœ‰è¯¯ç¼–è¯‘å™¨å‘å‡ºé”™è¯¯æç¤ºã€‘ @Deprecatedã€è¡¨ç¤ºå…ƒç´ åºŸå¼ƒã€‘ @SuppressWarningsã€å…³é—­ç¼–è¯‘å™¨è­¦å‘Šã€‘ 2 å…ƒæ³¨è§£ï¼ˆå››ç§ï¼‰ã€è´Ÿè´£æ³¨è§£å…¶ä»–æ³¨è§£ã€‘ @Retention @Target @Documented @Inherited å…ƒæ³¨è§£çš„æ¦‚å¿µç¨å¾®æœ‰ä¸€ç‚¹ç»•ï¼Œä»–ä¸»è¦ç”¨ä½¿ç”¨è‡ªå®šä¹‰æ³¨è§£æ—¶ï¼Œæ³¨è§£ä½ å®šä¹‰çš„æ³¨è§£ã€‚é¢ è²Œä¼¼è¿˜æ˜¯ä¸€æ ·çš„æ„Ÿè§‰ï¼Œä¸è¿‡å¯ä»¥å¤šæ•²ä»£ç ç†è§£ä¸‹ã€‚ @Retention è¡¨ç¤ºæ³¨è§£å°†ä¼šè¢«è¿è¡Œåœ¨ä»€ä¹ˆæ—¶æœŸã€‚ ç”¨@Retention(RetentionPolicy.CLASS)ä¿®é¥°çš„æ³¨è§£ï¼Œè¡¨ç¤ºæ³¨è§£çš„ä¿¡æ¯è¢«ä¿ç•™åœ¨classæ–‡ä»¶(å­—èŠ‚ç æ–‡ä»¶)ä¸­å½“ç¨‹åºç¼–è¯‘æ—¶ï¼Œä½†ä¸ä¼šè¢«è™šæ‹Ÿæœºè¯»å–åœ¨è¿è¡Œçš„æ—¶å€™ï¼›ç”¨@Retention(RetentionPolicy.SOURCE )ä¿®é¥°çš„æ³¨è§£,è¡¨ç¤ºæ³¨è§£çš„ä¿¡æ¯ä¼šè¢«ç¼–è¯‘å™¨æŠ›å¼ƒï¼Œä¸ä¼šç•™åœ¨classæ–‡ä»¶ä¸­ï¼Œæ³¨è§£çš„ä¿¡æ¯åªä¼šç•™åœ¨æºæ–‡ä»¶ä¸­ï¼›ç”¨@Retention(RetentionPolicy.RUNTIME )ä¿®é¥°çš„æ³¨è§£ï¼Œè¡¨ç¤ºæ³¨è§£çš„ä¿¡æ¯è¢«ä¿ç•™åœ¨classæ–‡ä»¶(å­—èŠ‚ç æ–‡ä»¶)ä¸­å½“ç¨‹åºç¼–è¯‘æ—¶ï¼Œä¼šè¢«è™šæ‹Ÿæœºä¿ç•™åœ¨è¿è¡Œæ—¶ï¼Œ@Target è¡¨ç¤ºæ³¨è§£å°†è¢«ç”¨åœ¨ä»€ä¹ˆåœ°æ–¹å¯ç”¨çš„ElementTypeå‚æ•°æœ‰ï¼šCONSTRUCTORï¼ˆæž„é€ æ–¹æ³•ï¼‰ï¼ŒFIELDï¼ˆåŸŸå£°æ˜Žï¼‰ï¼ŒLOCAL_VARIABLEï¼ˆå±€éƒ¨å˜é‡å£°æ˜Žï¼‰ï¼ŒMETHODï¼ˆæ–¹æ³•å£°æ˜Žï¼‰ï¼ŒPACKAGEï¼ˆåŒ…å£°æ˜Žï¼‰ï¼ŒPARAMETERï¼ˆå‚æ•°å£°æ˜Žï¼‰ï¼Œ,TYPEï¼ˆç±»,æŽ¥å£,æˆ–enumï¼‰ å¦‚æžœä½ æƒ³è¦ä½ çš„æ³¨è§£åœ¨è¿è¡Œæ—¶èµ·ä½œç”¨ï¼Œå¹¶ä¸”åªèƒ½ä¿®é¥°ä¸€ä¸ªç±»ï¼Œé‚£ä½ å¯ä»¥è¿™æ ·å®šä¹‰123456@Retention(RetentionPolicy.RUNTIME)@Target(ElementType.TYPE)public @interface MyAnnotation &#123; String value();&#125; @interface æ˜¯ä½ åœ¨å®šä¹‰æ³¨è§£çš„æ—¶å€™å¿…é¡»åœ¨ç±»çš„å¼€å¤´ä½¿ç”¨çš„é™å®šç¬¦ æŒ‰ç…§å–å€¼çš„æ–¹å¼åˆ†ç±»1 è¿è¡Œæ—¶æ³¨è§£åœ¨ç¨‹åºè¿è¡Œæ—¶å¯ä»¥ä½¿ç”¨ã€‚å¦‚ä½•åœ¨è¿è¡Œæ—¶ä½¿ç”¨å‘¢ï¼Ÿå½“ç„¶æ˜¯åˆ©ç”¨åå°„ã€‚retrofitæ¡†æž¶å¦‚æžœæŸ¥çœ‹è¿‡æºç ï¼Œä½ ä¼šå‘çŽ°å®ƒä½¿ç”¨çš„å°±æ˜¯è¿è¡Œæ—¶æ³¨è§£ã€‚ 2 ç¼–è¯‘æ—¶æ³¨è§£åå°„ç”±äºŽå®ƒçš„æ¶ˆè€—è¾ƒå¤§ï¼Œæ‰€ä»¥ä¸€ç›´ä»¥æ¥è¢«è¯Ÿç—…ï¼Œæ‰€ä»¥ã€‚ã€‚ã€‚ï¼Œé‚£ä¹ˆå¦‚ä½•ä½¿ç”¨ç¼–è¯‘æ—¶æ³¨è§£å‘¢ï¼Ÿé‚£ä¹ˆä¸‹é¢éœ€è¦äº†è§£ä¸‹æ³¨è§£å¤„ç†å™¨çš„æ¦‚å¿µ æ³¨è§£å¤„ç†å™¨(æœ¬å°èŠ‚æ‘˜è‡ªJlog`s Javaæ³¨è§£å¤„ç†å™¨)æ³¨è§£å¤„ç†å™¨æ¦‚å¿µæ³¨è§£å¤„ç†å™¨ï¼ˆAnnotation Processorï¼‰æ˜¯javacçš„ä¸€ä¸ªå·¥å…·ï¼Œå®ƒç”¨æ¥åœ¨ç¼–è¯‘æ—¶æ‰«æå’Œå¤„ç†æ³¨è§£ï¼ˆAnnotationï¼‰ã€‚ä½ å¯ä»¥å¯¹è‡ªå®šä¹‰æ³¨è§£ï¼Œå¹¶æ³¨å†Œç›¸åº”çš„æ³¨è§£å¤„ç†å™¨ã€‚ æ³¨è§£å¤„ç†å™¨çš„ä½œç”¨ ä¸€ä¸ªæ³¨è§£çš„æ³¨è§£å¤„ç†å™¨ï¼Œä»¥Javaä»£ç ï¼ˆæˆ–è€…ç¼–è¯‘è¿‡çš„å­—èŠ‚ç ï¼‰ä½œä¸ºè¾“å…¥ï¼Œç”Ÿæˆæ–‡ä»¶ï¼ˆé€šå¸¸æ˜¯.javaæ–‡ä»¶ï¼‰ä½œä¸ºè¾“å‡ºã€‚è¿™å…·ä½“çš„å«ä¹‰ä»€ä¹ˆå‘¢ï¼Ÿä½ å¯ä»¥ç”ŸæˆJavaä»£ç ï¼è¿™äº›ç”Ÿæˆçš„Javaä»£ç æ˜¯åœ¨ç”Ÿæˆçš„.javaæ–‡ä»¶ä¸­ï¼Œæ‰€ä»¥ä½ ä¸èƒ½ä¿®æ”¹å·²ç»å­˜åœ¨çš„Javaç±»ï¼Œä¾‹å¦‚å‘å·²æœ‰çš„ç±»ä¸­æ·»åŠ æ–¹æ³•ã€‚è¿™äº›ç”Ÿæˆçš„Javaæ–‡ä»¶ï¼Œä¼šåŒå…¶ä»–æ™®é€šçš„æ‰‹åŠ¨ç¼–å†™çš„Javaæºä»£ç ä¸€æ ·è¢«javacç¼–è¯‘ã€‚ è™šå¤„ç†å™¨AbstractProcessor123456789101112131415public class MyProcessor extends AbstractProcessor &#123; @Override public synchronized void init(ProcessingEnvironment env)&#123; &#125; @Override public boolean process(Set&lt;? extends TypeElement&gt; annoations, RoundEnvironment env) &#123; &#125; @Override public Set&lt;String&gt; getSupportedAnnotationTypes() &#123; &#125; @Override public SourceVersion getSupportedSourceVersion() &#123; &#125;&#125; init(ProcessingEnvironment env): æ¯ä¸€ä¸ªæ³¨è§£å¤„ç†å™¨ç±»éƒ½å¿…é¡»æœ‰ä¸€ä¸ªç©ºçš„æž„é€ å‡½æ•°ã€‚ç„¶è€Œï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªç‰¹æ®Šçš„init()æ–¹æ³•ï¼Œå®ƒä¼šè¢«æ³¨è§£å¤„ç†å·¥å…·è°ƒç”¨ï¼Œå¹¶è¾“å…¥ProcessingEnviromentå‚æ•°ã€‚ProcessingEnviromentæä¾›å¾ˆå¤šæœ‰ç”¨çš„å·¥å…·ç±»Elements, Typeså’ŒFilerã€‚åŽé¢æˆ‘ä»¬å°†çœ‹åˆ°è¯¦ç»†çš„å†…å®¹ã€‚ process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment env): è¿™ç›¸å½“äºŽæ¯ä¸ªå¤„ç†å™¨çš„ä¸»å‡½æ•°main()ã€‚ä½ åœ¨è¿™é‡Œå†™ä½ çš„æ‰«æã€è¯„ä¼°å’Œå¤„ç†æ³¨è§£çš„ä»£ç ï¼Œä»¥åŠç”ŸæˆJavaæ–‡ä»¶ã€‚è¾“å…¥å‚æ•°RoundEnviromentï¼Œå¯ä»¥è®©ä½ æŸ¥è¯¢å‡ºåŒ…å«ç‰¹å®šæ³¨è§£çš„è¢«æ³¨è§£å…ƒç´ ã€‚åŽé¢æˆ‘ä»¬å°†çœ‹åˆ°è¯¦ç»†çš„å†…å®¹ã€‚ getSupportedAnnotationTypes(): è¿™é‡Œä½ å¿…é¡»æŒ‡å®šï¼Œè¿™ä¸ªæ³¨è§£å¤„ç†å™¨æ˜¯æ³¨å†Œç»™å“ªä¸ªæ³¨è§£çš„ã€‚æ³¨æ„ï¼Œå®ƒçš„è¿”å›žå€¼æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²çš„é›†åˆï¼ŒåŒ…å«æœ¬å¤„ç†å™¨æƒ³è¦å¤„ç†çš„æ³¨è§£ç±»åž‹çš„åˆæ³•å…¨ç§°ã€‚æ¢å¥è¯è¯´ï¼Œä½ åœ¨è¿™é‡Œå®šä¹‰ä½ çš„æ³¨è§£å¤„ç†å™¨æ³¨å†Œåˆ°å“ªäº›æ³¨è§£ä¸Šã€‚ getSupportedSourceVersion(): ç”¨æ¥æŒ‡å®šä½ ä½¿ç”¨çš„Javaç‰ˆæœ¬ã€‚é€šå¸¸è¿™é‡Œè¿”å›žSourceVersion.latestSupported()ã€‚ç„¶è€Œï¼Œå¦‚æžœä½ æœ‰è¶³å¤Ÿçš„ç†ç”±åªæ”¯æŒJava 6çš„è¯ï¼Œä½ ä¹Ÿå¯ä»¥è¿”å›žSourceVersion.RELEASE_6ã€‚æˆ‘æŽ¨èä½ ä½¿ç”¨å‰è€…ã€‚ æ³¨å†Œå¤„ç†å™¨ä½ å¯èƒ½ä¼šé—®ï¼Œæˆ‘æ€Žæ ·å°†å¤„ç†å™¨MyProcessoræ³¨å†Œåˆ°javacä¸­ã€‚ä½ å¿…é¡»æä¾›ä¸€ä¸ª.jaræ–‡ä»¶ã€‚å°±åƒå…¶ä»–.jaræ–‡ä»¶ä¸€æ ·ï¼Œä½ æ‰“åŒ…ä½ çš„æ³¨è§£å¤„ç†å™¨åˆ°æ­¤æ–‡ä»¶ä¸­ã€‚å¹¶ä¸”ï¼Œåœ¨ä½ çš„jarä¸­ï¼Œä½ éœ€è¦æ‰“åŒ…ä¸€ä¸ªç‰¹å®šçš„æ–‡ä»¶javax.annotation.processing.Processoråˆ°META-INF/servicesè·¯å¾„ä¸‹ã€‚æ‰€ä»¥ï¼Œä½ çš„.jaræ–‡ä»¶çœ‹èµ·æ¥å°±åƒä¸‹é¢è¿™æ ·ï¼š MyProcessor.jar com example MyProcessor.class META-INF services javax.annotation.processing.Processor æ‰“åŒ…è¿›MyProcessor.jarä¸­çš„javax.annotation.processing.Processorçš„å†…å®¹æ˜¯ï¼Œæ³¨è§£å¤„ç†å™¨çš„åˆæ³•çš„å…¨ååˆ—è¡¨ï¼Œæ¯ä¸€ä¸ªå…ƒç´ æ¢è¡Œåˆ†å‰²ï¼š1com.example.MyProcessor æŠŠMyProcessor.jaræ”¾åˆ°ä½ çš„builpathä¸­ï¼Œjavacä¼šè‡ªåŠ¨æ£€æŸ¥å’Œè¯»å–javax.annotation.processing.Processorä¸­çš„å†…å®¹ï¼Œå¹¶ä¸”æ³¨å†ŒMyProcessorä½œä¸ºæ³¨è§£å¤„ç†å™¨ã€‚è‹¥å¯¹ä¸Šè¿°æ¦‚å¿µæœ‰ç–‘é—®ï¼Œè¯·æŸ¥çœ‹åŽŸæ–‡é“¾æŽ¥ å…¶å®žå¦‚æžœçœ‹åˆ°è¿™é‡Œï¼Œæˆ‘çŒœä½ ä¼šè¯´TMDï¼Œæ²¡è§ä½ åˆ†æžä¸€å¥æºç å°±åœ¨æ’¤è¿™äº›æ¦‚å¿µäº†ï¼Œå…„å¼Ÿæ”¾ä¸‹è¥¿ç“œåˆ€ï¼Œå…ˆå¬æˆ‘è¯´ï¼Œå…¶å®žå¦‚æžœä¸Šè¿°æ¦‚å¿µä½ éƒ½æ˜Žç™½äº†ï¼Œé‚£ä¹ˆButterKnifeçš„æºç ä½ é˜…è¯»èµ·æ¥å®Œå…¨æ¯«æ— åŽ‹åŠ›ã€‚ ButterKnifeæºç é¡¹ç›®ç»“æž„å¼€å§‹æˆ‘ä»¬çš„æºç åˆ†æžï¼Œé¦–å…ˆï¼Œæºä»£ç é¡¹ç›®ç»“æž„è§ä¸‹å›¾å¯ä»¥çœ‹åˆ°é¡¹ç›®ç»“æž„ååˆ†çš„æ˜Žç¡®ðŸ¤¸ è“è‰²æ¡†åœˆèµ·çš„é¡¹ç›®ä¸ºandroid library çº¢è‰²æ¡†åœˆèµ·çš„é¡¹ç›®ä¸ºJava library é»„è‰²æ¡†åœˆèµ·çš„é¡¹ç›®ä¸ºdemo A è“è‰²æ¡†çš„é¡¹ç›®æˆ‘ä»¬åœ¨dependenciesä¸­æ·»åŠ ã€‚æä¾›ç»™æˆ‘ä»¬ä½¿ç”¨çš„APIã€‚ B çº¢è‰²æ¡†çš„é¡¹ç›®æ¯”è¾ƒå¤šï¼Œä¾æ¬¡æ¥è§£é‡Š butterknife-annotations; å®šä¹‰çš„æ³¨è§£ï¼ˆé¡¹ç›®ç»“æž„è§ä¸‹å›¾ï¼‰ butterknife-compilerï¼›ç¼–è¯‘æ—¶ç”¨åˆ°çš„æ³¨è§£çš„å¤„ç†å™¨ï¼ˆimportantï¼‰ï¼Œç»†å¿ƒçš„åŒå­¦å¯èƒ½å‘çŽ°æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­ä½¿ç”¨butterKnifeæ—¶æ·»åŠ ä¾èµ–çš„æ—¶å€™å¯¼å…¥çš„å°±æœ‰è¿™ä¸ªé¡¹ç›® butterknife-gradle-pluginï¼›è‡ªå®šä¹‰çš„gradleæ’ä»¶ï¼Œè¾…åŠ©ç”Ÿæˆæœ‰å…³ä»£ç  butterknife-lintï¼›é¡¹ç›®çš„lintæ£€æŸ¥ C é»„è‰²æ¡†å†…çš„demoé¡¹ç›®æš‚æ—¶å°±ä¸å¤šåšè§£é‡Šï¼Œç›¸ä¿¡å¤§å®¶éƒ½èƒ½çœ‹æ‡‚ ButterKnifeæºç å­¦ä¹ å¼€å§‹æˆ‘ä»¬çš„æ­£å¼çš„å­¦ä¹ å§ï¼æ–°å»ºå·¥ç¨‹ï¼Œæ·»åŠ ButterKnifeä¾èµ–ï¼Œç•Œé¢å¾ˆç®€å•ï¼ŒåŒ…å«ä¸€ä¸ªTextViewå’ŒIamgeViewï¼Œä½¿ç”¨ButterKnifeè¿›è¡Œæ³¨è§£ã€‚é¡¹ç›®ä»£ç å¦‚ä¸‹ä¸€é”®ç”ŸæˆçœŸçš„æ˜¯éº»ç“œå¼ç¼–ç¨‹äº†~.~æŽ§ä»¶çš„åˆå§‹åŒ–å’Œç‚¹å‡»äº‹ä»¶éƒ½å·²æˆåŠŸç»‘å®šäº†ï¼Œåœ¨setContentView(â€¦)ä¸‹ï¼Œå¤šå‡ºäº†ButterKnife.bind(this); @BindViewè®©æˆ‘ä»¬é¦–å…ˆæŸ¥çœ‹ä¸‹@BindViewçš„æ³¨è§£æ˜¯å¦‚ä½•å®šä¹‰çš„å§ã€‚ç‚¹å‡»è¿›å…¥æºç æŸ¥çœ‹12345@Retention(CLASS) @Target(FIELD)public @interface BindView &#123; /** View ID to which the field will be bound. */ @IdRes int value();&#125; é€šè¿‡ä¸Šä¸€èŠ‚æ³¨è§£çŸ¥è¯†çš„å­¦ä¹ ï¼Œæˆ‘ä»¬çŸ¥é“å½“å‰æ³¨è§£ä¸ºç¼–è¯‘æ—¶æ³¨è§£åªæ³¨è§£å‚æ•°å–½ï¼Œæ—¢ç„¶æ˜¯ç¼–è¯‘æ—¶æ³¨è§£é‚£ä¹ˆè‚¯å®šå­˜åœ¨æ³¨è§£å¤„ç†å™¨ã€‚æˆ‘ä»¬åœ¨æ·»åŠ ä¾èµ–çš„æ—¶å€™ä½ å°±ä¼šå‘çŽ°é™¤äº†ButterKnifeçš„ä¾èµ–ï¼Œä½ åŒæ—¶ä¹Ÿæ·»åŠ äº†æ³¨è§£å¤„ç†å™¨ä¾èµ–1`annotationProcessor &apos;com.jakewharton:butterknife-compiler:8.6.0&apos;` AbstractProcessoræ³¨è§£å¤„ç†å™¨äº†è§£å®Œ@BindViewæºç åŽï¼ŒæŽ¥ç€è®©æˆ‘ä»¬æ¥æŸ¥çœ‹ä¸‹æ³¨è§£å¤„ç†å™¨æ˜¯å¦‚ä½•ç¼–å†™çš„ã€‚ButterKnifeProcessorç±»çš„æºç è¾ƒé•¿ï¼Œè¿™é‡Œå°±ä¸è´´å‡ºæ¥äº†ï¼Œä¼šè·³å‡ºä¸»è¦çš„æ–¹æ³•è¿›è¡Œåˆ†æžï¼Œå¦‚æžœéœ€è¦ï¼Œç±»è·¯å¾„ä¸ºbutterknife.compiler.ButterKnifeProcessorå¯è‡ªè¡ŒæŸ¥çœ‹ã€‚ 1å…ˆæ¥æŸ¥çœ‹init()æ–¹æ³• 1234567891011121314151617181920212223@Override public synchronized void init(ProcessingEnvironment env) &#123; super.init(env); String sdk = env.getOptions().get(OPTION_SDK_INT); if (sdk != null) &#123; try &#123; this.sdk = Integer.parseInt(sdk); &#125; catch (NumberFormatException e) &#123; env.getMessager() .printMessage(Kind.WARNING, "Unable to parse supplied minSdk option '" + sdk + "'. Falling back to API 1 support."); &#125; &#125; elementUtils = env.getElementUtils(); typeUtils = env.getTypeUtils(); filer = env.getFiler(); try &#123; trees = Trees.instance(processingEnv); &#125; catch (IllegalArgumentException ignored) &#123; &#125; &#125; é¦–å…ˆçœ‹åˆ°çš„å°±æ˜¯å„ç§try{}catch(){}ï¼Œç”±æ­¤å¯è§ä¸€ä¸ªå¥½çš„æ¡†æž¶å®¹é”™æ˜¯çœŸçš„åŽ‰å®³ï¼ŒåŸºæœ¬ä¸Šå¤§éƒ¨åˆ†çš„ä»£ç éƒ½æ˜¯æ¥å¤„ç†å…¼å®¹ã€‚æ­¤æ–¹æ³•ä¸­ä¸»è¦èŽ·å–äº†ä¸€äº›è¾…åŠ©ç±»ï¼ŒåŒ…æ‹¬å…ƒç´ è¾…åŠ©ç±»ï¼Œç±»åž‹è¾…åŠ©ç±»ï¼Œæ–‡ä»¶è¾…åŠ©ç±»ç­‰ã€‚ 2æŽ¥ç€æŸ¥çœ‹process()æ–¹æ³•ã€‚ 1234567891011121314151617@Override public boolean process(Set&lt;? extends TypeElement&gt; elements, RoundEnvironment env) &#123; Map&lt;TypeElement, BindingSet&gt; bindingMap = findAndParseTargets(env); for (Map.Entry&lt;TypeElement, BindingSet&gt; entry : bindingMap.entrySet()) &#123; TypeElement typeElement = entry.getKey(); BindingSet binding = entry.getValue(); JavaFile javaFile = binding.brewJava(sdk); try &#123; javaFile.writeTo(filer); &#125; catch (IOException e) &#123; error(typeElement, "Unable to write binding for type %s: %s", typeElement, e.getMessage()); &#125; &#125; return false;&#125; è¿™ä¸ªæ–¹æ³•å°±æ¯”è¾ƒé‡è¦äº†ï¼Œä½†æ˜¯ä»£ç ç¡®å¦‚æ­¤çš„ç®€å•ðŸ™ƒï¼Œé¦–å…ˆè°ƒç”¨äº†findAndParseTargetsæ–¹æ³•è¿”å›žä¸€ä¸ªMapå€¼å­˜æ”¾å…ƒç´ å’Œå¯¹åº”çš„Bindingset,è‡³äºŽBindingSetæ˜¯ä»€ä¹ˆï¼Œæš‚ä¸”ä¸è¡¨ï¼Œç„¶åŽéåŽ†MapèŽ·å¾—å„ä¸ªå…ƒç´ ï¼ˆæ³¨è§£ï¼‰ï¼Œè°ƒç”¨javapoetåº“æä¾›çš„æ–¹æ³•è‡ªåŠ¨ç”Ÿæˆjavaç±»ï¼ˆè‹¥éœ€äº†è§£javapoetå¯è‡ªè¡Œå­¦ä¹ ï¼‰ã€‚ é¦–å…ˆæˆ‘ä»¬æ¥æŸ¥çœ‹findAndParseTargetsæ–¹æ³•ï¼Œ123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151private Map&lt;TypeElement, BindingSet&gt; findAndParseTargets(RoundEnvironment env) &#123; Map&lt;TypeElement, BindingSet.Builder&gt; builderMap = new LinkedHashMap&lt;&gt;(); Set&lt;TypeElement&gt; erasedTargetNames = new LinkedHashSet&lt;&gt;(); scanForRClasses(env); // Process each @BindArray element. for (Element element : env.getElementsAnnotatedWith(BindArray.class)) &#123; if (!SuperficialValidation.validateElement(element)) continue; try &#123; parseResourceArray(element, builderMap, erasedTargetNames); &#125; catch (Exception e) &#123; logParsingError(element, BindArray.class, e); &#125; &#125; // Process each @BindBitmap element. for (Element element : env.getElementsAnnotatedWith(BindBitmap.class)) &#123; if (!SuperficialValidation.validateElement(element)) continue; try &#123; parseResourceBitmap(element, builderMap, erasedTargetNames); &#125; catch (Exception e) &#123; logParsingError(element, BindBitmap.class, e); &#125; &#125; // Process each @BindBool element. for (Element element : env.getElementsAnnotatedWith(BindBool.class)) &#123; if (!SuperficialValidation.validateElement(element)) continue; try &#123; parseResourceBool(element, builderMap, erasedTargetNames); &#125; catch (Exception e) &#123; logParsingError(element, BindBool.class, e); &#125; &#125; // Process each @BindColor element. for (Element element : env.getElementsAnnotatedWith(BindColor.class)) &#123; if (!SuperficialValidation.validateElement(element)) continue; try &#123; parseResourceColor(element, builderMap, erasedTargetNames); &#125; catch (Exception e) &#123; logParsingError(element, BindColor.class, e); &#125; &#125; // Process each @BindDimen element. for (Element element : env.getElementsAnnotatedWith(BindDimen.class)) &#123; if (!SuperficialValidation.validateElement(element)) continue; try &#123; parseResourceDimen(element, builderMap, erasedTargetNames); &#125; catch (Exception e) &#123; logParsingError(element, BindDimen.class, e); &#125; &#125; // Process each @BindDrawable element. for (Element element : env.getElementsAnnotatedWith(BindDrawable.class)) &#123; if (!SuperficialValidation.validateElement(element)) continue; try &#123; parseResourceDrawable(element, builderMap, erasedTargetNames); &#125; catch (Exception e) &#123; logParsingError(element, BindDrawable.class, e); &#125; &#125; // Process each @BindFloat element. for (Element element : env.getElementsAnnotatedWith(BindFloat.class)) &#123; if (!SuperficialValidation.validateElement(element)) continue; try &#123; parseResourceFloat(element, builderMap, erasedTargetNames); &#125; catch (Exception e) &#123; logParsingError(element, BindFloat.class, e); &#125; &#125; // Process each @BindInt element. for (Element element : env.getElementsAnnotatedWith(BindInt.class)) &#123; if (!SuperficialValidation.validateElement(element)) continue; try &#123; parseResourceInt(element, builderMap, erasedTargetNames); &#125; catch (Exception e) &#123; logParsingError(element, BindInt.class, e); &#125; &#125; // Process each @BindString element. for (Element element : env.getElementsAnnotatedWith(BindString.class)) &#123; if (!SuperficialValidation.validateElement(element)) continue; try &#123; parseResourceString(element, builderMap, erasedTargetNames); &#125; catch (Exception e) &#123; logParsingError(element, BindString.class, e); &#125; &#125; // Process each @BindView element. for (Element element : env.getElementsAnnotatedWith(BindView.class)) &#123; // we don't SuperficialValidation.validateElement(element) // so that an unresolved View type can be generated by later processing rounds try &#123; parseBindView(element, builderMap, erasedTargetNames); &#125; catch (Exception e) &#123; logParsingError(element, BindView.class, e); &#125; &#125; // Process each @BindViews element. for (Element element : env.getElementsAnnotatedWith(BindViews.class)) &#123; // we don't SuperficialValidation.validateElement(element) // so that an unresolved View type can be generated by later processing rounds try &#123; parseBindViews(element, builderMap, erasedTargetNames); &#125; catch (Exception e) &#123; logParsingError(element, BindViews.class, e); &#125; &#125; // Process each annotation that corresponds to a listener. for (Class&lt;? extends Annotation&gt; listener : LISTENERS) &#123; findAndParseListener(env, listener, builderMap, erasedTargetNames); &#125; // Associate superclass binders with their subclass binders. This is a queue-based tree walk // which starts at the roots (superclasses) and walks to the leafs (subclasses). Deque&lt;Map.Entry&lt;TypeElement, BindingSet.Builder&gt;&gt; entries = new ArrayDeque&lt;&gt;(builderMap.entrySet()); Map&lt;TypeElement, BindingSet&gt; bindingMap = new LinkedHashMap&lt;&gt;(); while (!entries.isEmpty()) &#123; Map.Entry&lt;TypeElement, BindingSet.Builder&gt; entry = entries.removeFirst(); TypeElement type = entry.getKey(); BindingSet.Builder builder = entry.getValue(); TypeElement parentType = findParentType(type, erasedTargetNames); if (parentType == null) &#123; bindingMap.put(type, builder.build()); &#125; else &#123; BindingSet parentBinding = bindingMap.get(parentType); if (parentBinding != null) &#123; builder.setParent(parentBinding); bindingMap.put(type, builder.build()); &#125; else &#123; // Has a superclass binding but we haven't built it yet. Re-enqueue for later. entries.addLast(entry); &#125; &#125; &#125; return bindingMap; &#125; è¿™é‡Œæ ¹æ®ä¸åŒå…ƒç´ ç±»åž‹ï¼Œè°ƒç”¨ä¸åŒçš„pareseBind..æ–¹æ³•ï¼Œæˆ‘ä»¬ä»…ä»…æŸ¥çœ‹å’ŒBindViewç›¸å…³çš„ä»£ç ï¼Œå…¶ä»–éƒ¨åˆ†ä»£ç åŽŸç†ç›¸ä¼¼ã€‚12345678910// Process each @BindView element.for (Element element : env.getElementsAnnotatedWith(BindView.class)) &#123;// we don't SuperficialValidation.validateElement(element) // so that an unresolved View type can be generated by later processing rounds try &#123; parseBindView(element, builderMap, erasedTargetNames); &#125; catch (Exception e) &#123; logParsingError(element, BindView.class, e); &#125;&#125; æŽ¥ç€çœ‹è°ƒç”¨äº†pareseBindView12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758private void parseBindView(Element element, Map&lt;TypeElement, BindingSet.Builder&gt; builderMap, Set&lt;TypeElement&gt; erasedTargetNames) &#123; TypeElement enclosingElement = (TypeElement) element.getEnclosingElement(); // Start by verifying common generated code restrictions. boolean hasError = isInaccessibleViaGeneratedCode(BindView.class, "fields", element) || isBindingInWrongPackage(BindView.class, element); // Verify that the target type extends from View. TypeMirror elementType = element.asType(); if (elementType.getKind() == TypeKind.TYPEVAR) &#123; TypeVariable typeVariable = (TypeVariable) elementType; elementType = typeVariable.getUpperBound(); &#125; Name qualifiedName = enclosingElement.getQualifiedName(); Name simpleName = element.getSimpleName(); if (!isSubtypeOfType(elementType, VIEW_TYPE) &amp;&amp; !isInterface(elementType)) &#123; if (elementType.getKind() == TypeKind.ERROR) &#123; note(element, "@%s field with unresolved type (%s) " + "must elsewhere be generated as a View or interface. (%s.%s)", BindView.class.getSimpleName(), elementType, qualifiedName, simpleName); &#125; else &#123; error(element, "@%s fields must extend from View or be an interface. (%s.%s)", BindView.class.getSimpleName(), qualifiedName, simpleName); hasError = true; &#125; &#125; if (hasError) &#123; return; &#125; // Assemble information on the field. int id = element.getAnnotation(BindView.class).value(); BindingSet.Builder builder = builderMap.get(enclosingElement); QualifiedId qualifiedId = elementToQualifiedId(element, id); if (builder != null) &#123; String existingBindingName = builder.findExistingBindingName(getId(qualifiedId)); if (existingBindingName != null) &#123; error(element, "Attempt to use @%s for an already bound ID %d on '%s'. (%s.%s)", BindView.class.getSimpleName(), id, existingBindingName, enclosingElement.getQualifiedName(), element.getSimpleName()); return; &#125; &#125; else &#123; builder = getOrCreateBindingBuilder(builderMap, enclosingElement); &#125; String name = simpleName.toString(); TypeName type = TypeName.get(elementType); boolean required = isFieldRequired(element); builder.addField(getId(qualifiedId), new FieldViewBinding(name, type, required)); // Add the type-erased version to the valid binding targets set. erasedTargetNames.add(enclosingElement);&#125; ä¸Šæ¥å°±åˆæ˜¯å„ç§æ ¡éªŒä»£ç ã€‚è¿™äº›éƒ½ä¸é‡è¦ï¼Œå“¦ï¼ä¸å¯¹ç¬¬ä¸€å¥1boolean hasError = isInaccessibleViaGeneratedCode(BindView.class, "fields", element)|| isBindingInWrongPackage(BindView.class, element); æ ¡éªŒäº†ä¿®é¥°ç¬¦ï¼Œå¦‚æžœå­˜åœ¨static privateåˆ™æŠ›å¼‚å¸¸ï¼Œæ‰€ä»¥è¯´æˆ‘ä»¬åœ¨è‡ªå·±å†™æ³¨è§£çš„æ—¶å€™ï¼Œè¦æ³¨æ„ä¿®é¥°ç¬¦ã€‚æ¯”è¾ƒé‡è¦çš„åœ°æ–¹æœ‰1builder = getOrCreateBindingBuilder(builderMap, enclosingElement); æ­¤æ–¹æ³•ä¸­è°ƒç”¨äº†getOrCreateBindingBuilderæ–¹æ³•123456789private BindingSet.Builder getOrCreateBindingBuilder( Map&lt;TypeElement, BindingSet.Builder&gt; builderMap, TypeElement enclosingElement) &#123; BindingSet.Builder builder = builderMap.get(enclosingElement); if (builder == null) &#123; builder = BindingSet.newBuilder(enclosingElement); builderMap.put(enclosingElement, builder); &#125; return builder; &#125; BuilderSetå‡ºçŽ°åœ¨è¿™é‡Œï¼Œé‚£ä¹ˆè®©æˆ‘ä»¬æŸ¥çœ‹BuilderSetåˆ›å»ºè°ƒç”¨çš„æ–¹æ³•newBuilderä»£ç å¦‚ä¸‹1234567891011121314151617181920static Builder newBuilder(TypeElement enclosingElement) &#123; TypeMirror typeMirror = enclosingElement.asType(); boolean isView = isSubtypeOfType(typeMirror, VIEW_TYPE); boolean isActivity = isSubtypeOfType(typeMirror, ACTIVITY_TYPE); boolean isDialog = isSubtypeOfType(typeMirror, DIALOG_TYPE); TypeName targetType = TypeName.get(typeMirror); if (targetType instanceof ParameterizedTypeName) &#123; targetType = ((ParameterizedTypeName) targetType).rawType; &#125; String packageName = getPackage(enclosingElement).getQualifiedName().toString(); String className = enclosingElement.getQualifiedName().toString().substring( packageName.length() + 1).replace('.', '$'); ClassName bindingClassName = ClassName.get(packageName, className + "_ViewBinding"); boolean isFinal = enclosingElement.getModifiers().contains(Modifier.FINAL); return new Builder(targetType, bindingClassName, isFinal, isView, isActivity, isDialog); &#125; åˆ›å»ºäº†ä¸€ä¸ªbuilderï¼Œbuilderå«æœ‰çš„å‚æ•°æœ‰targetTypeï¼ŒbindingClassNameï¼ŒisFinalï¼ŒisViewï¼ŒisActivityï¼ŒisDialogã€‚å‚æ•°ä¸­çš„bindingClassNameç”Ÿæˆéœ€è¦æ³¨æ„ä¸‹1ClassName bindingClassName = ClassName.get(packageName, className + "_ViewBinding"); ä¸‹é¢å°±æ˜¯ä»Žmapä¸­ï¼ˆæœ‰åˆ™å–ç¼“å­˜ï¼Œæ²¡æœ‰åˆ™åˆ›å»ºï¼‰ï¼Œå–å‡ºè¢«æ³¨è§£å˜é‡çš„åç§°ï¼Œç±»åž‹ï¼Œidç­‰ä¿å­˜åˆ°ç”Ÿæˆçš„FieldViewBindingå®žä½“ä¸­ï¼Œå¹¶å°†å®žä½“ä¿å­˜åˆ°buildä¸­ã€‚okï¼ŒæŠ½æ ¹93å¹´çš„é›ªèŒ„åŽ‹åŽ‹æƒŠã€‚gogogogoæŽ¥ä¸‹æ¥æˆ‘ä»¬æŸ¥çœ‹process()ä¸­çš„å…¶ä»–æ–¹æ³•ï¼Œ1234567891011for (Map.Entry&lt;TypeElement, BindingSet&gt; entry : bindingMap.entrySet()) &#123; TypeElement typeElement = entry.getKey(); BindingSet binding = entry.getValue(); JavaFile javaFile = binding.brewJava(sdk); try &#123; javaFile.writeTo(filer); &#125; catch (IOException e) &#123; error(typeElement, "Unable to write binding for type %s: %s", typeElement, e.getMessage()); &#125; &#125; é€šè¿‡BindingSetèŽ·å¾—binding,è°ƒç”¨binding.brewJava(sdk);æ–¹æ³•ç”ŸæˆjavaFileï¼Œé€šè¿‡JavaFileç”Ÿæˆäº†javaç±»ï¼Œæ¥æŸ¥çœ‹ä¸‹brewJavaæ–¹æ³•12345JavaFile brewJava(int sdk) &#123; return JavaFile.builder(bindingClassName.packageName(), createType(sdk)) .addFileComment("Generated code from Butter Knife. Do not modify!") .build(); &#125; è¿™é‡Œçš„bindingClassNameå°±æ˜¯ä¸Šé¢åˆ†æžçš„newBuilderæ–¹æ³•ä¸­èµ‹å€¼çš„bindingClassName.1ClassName bindingClassName = ClassName.get(packageName, className + "_ViewBinding"); ä¹Ÿå°±æ˜¯è¯´ä¼šç”Ÿæˆä¸€ä¸ªåŽç¼€åä¸º_ViewBindingçš„javaç±»ã€‚è¿™ä¸ªç±»ä½äºŽåœ¨/build/generated/source/apt/debud/xxxx/ç›®å½•ä¸‹ï¼Œxxxæ˜¯ä½ å¯¹åº”çš„åŒ…åã€‚ä¸‹é¢ä¸ºä¹‹å‰demoç¼–è¯‘åŽç”Ÿæˆçš„åŽç¼€åä¸º_ViewBindingçš„javaç±»1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253public class MainActivity_ViewBinding implements Unbinder &#123; private MainActivity target; private View view2131427422; private View view2131427423; @UiThread public MainActivity_ViewBinding(MainActivity target) &#123; this(target, target.getWindow().getDecorView()); &#125; @UiThread public MainActivity_ViewBinding(final MainActivity target, View source) &#123; this.target = target; View view; view = Utils.findRequiredView(source, R.id.testTv, "field 'testTv' and method 'onViewClicked'"); target.testTv = Utils.castView(view, R.id.testTv, "field 'testTv'", TextView.class); view2131427422 = view; view.setOnClickListener(new DebouncingOnClickListener() &#123; @Override public void doClick(View p0) &#123; target.onViewClicked(p0); &#125; &#125;); view = Utils.findRequiredView(source, R.id.testIv, "field 'testIv' and method 'onViewClicked'"); target.testIv = Utils.castView(view, R.id.testIv, "field 'testIv'", ImageView.class); view2131427423 = view; view.setOnClickListener(new DebouncingOnClickListener() &#123; @Override public void doClick(View p0) &#123; target.onViewClicked(p0); &#125; &#125;); &#125; @Override @CallSuper public void unbind() &#123; MainActivity target = this.target; if (target == null) throw new IllegalStateException("Bindings already cleared."); this.target = null; target.testTv = null; target.testIv = null; view2131427422.setOnClickListener(null); view2131427422 = null; view2131427423.setOnClickListener(null); view2131427423 = null; &#125;&#125; é‚£ä¹ˆè¿™ä¸ªç±»æ˜¯å¦‚ä½•è¢«è°ƒç”¨çš„å‘¢ï¼Ÿéªšå¹´ä¸Šé¢æˆ‘ä»¬åˆ†æžäº†æ³¨è§£çš„ç”Ÿæˆä½†æ˜¯æœ‰ä¸€ä¸ªé‡è¦çš„æ–¹æ³•è¢«å¿½è§†äº†ï¼Œç®—äº†ï¼Œæˆ‘è¿˜æ˜¯é‡æ–°è´´ä¸‹ä¹‹å‰æˆ‘ä»¬åˆ›å»ºçš„é¡¹ç›®ä»£ç å§ï¼Œå¤ªé•¿äº†çœå¾—å¤§å®¶æ‰¾äº†123456789101112131415161718192021222324public class MainActivity extends AppCompatActivity &#123; @BindView(R.id.testTv) TextView testTv; @BindView(R.id.testIv) ImageView testIv; @Override protected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); ButterKnife.bind(this); &#125; @OnClick(&#123;R.id.testTv, R.id.testIv&#125;) public void onViewClicked(View view) &#123; switch (view.getId()) &#123; case R.id.testTv: break; case R.id.testIv: break; &#125; &#125;&#125; attent please!ButterKnife.bind(this);å°±æ˜¯è¿™ä¸ªæ–¹æ³•ï¼Œæ¥æŸ¥çœ‹ä¸‹bindæ–¹æ³•è¿›è¡Œäº†ä»€ä¹ˆæ ·çš„éªšä½œå§ï¼Œ123456789101112131415161718192021222324252627282930313233343536 @NonNull @UiThread public static Unbinder bind(@NonNull Activity target) &#123; View sourceView = target.getWindow().getDecorView(); return createBinding(target, sourceView); &#125;``` è°ƒç”¨äº†createBindingæ–¹æ³•ï¼Œç»§ç»­```Javaprivate static Unbinder createBinding(@NonNull Object target, @NonNull View source) &#123; Class&lt;?&gt; targetClass = target.getClass(); if (debug) Log.d(TAG, "Looking up binding for " + targetClass.getName()); Constructor&lt;? extends Unbinder&gt; constructor = findBindingConstructorForClass(targetClass); if (constructor == null) &#123; return Unbinder.EMPTY; &#125; //noinspection TryWithIdenticalCatches Resolves to API 19+ only type. try &#123; return constructor.newInstance(target, source); &#125; catch (IllegalAccessException e) &#123; throw new RuntimeException("Unable to invoke " + constructor, e); &#125; catch (InstantiationException e) &#123; throw new RuntimeException("Unable to invoke " + constructor, e); &#125; catch (InvocationTargetException e) &#123; Throwable cause = e.getCause(); if (cause instanceof RuntimeException) &#123; throw (RuntimeException) cause; &#125; if (cause instanceof Error) &#123; throw (Error) cause; &#125; throw new RuntimeException("Unable to create binding instance.", cause); &#125; &#125; è¿™é‡Œä¸»è¦çœ‹ä¸‹è°ƒç”¨çš„findBindingConstructorForClassæ–¹æ³•ï¼Œæ­¤æ–¹æ³•è¿”å›žäº†ä¸€ä¸ªConstructorï¼Œç„¶åŽé€šè¿‡åå°„ç”Ÿæˆäº†è¿™ä¸ªConstructorçš„å®žä½“ï¼Œé‚£ä¹ˆfindBindingConstructorForClassåšäº†ä»€ä¹ˆéªšä½œå‘¢ï¼Ÿ1234567891011121314151617181920212223242526@Nullable @CheckResult @UiThread private static Constructor&lt;? extends Unbinder&gt; findBindingConstructorForClass(Class&lt;?&gt; cls) &#123; Constructor&lt;? extends Unbinder&gt; bindingCtor = BINDINGS.get(cls); if (bindingCtor != null) &#123; if (debug) Log.d(TAG, "HIT: Cached in binding map."); return bindingCtor; &#125; String clsName = cls.getName(); if (clsName.startsWith("android.") || clsName.startsWith("java.")) &#123; if (debug) Log.d(TAG, "MISS: Reached framework class. Abandoning search."); return null; &#125; try &#123; Class&lt;?&gt; bindingClass = cls.getClassLoader().loadClass(clsName + "_ViewBinding"); //noinspection unchecked bindingCtor = (Constructor&lt;? extends Unbinder&gt;) bindingClass.getConstructor(cls, View.class); if (debug) Log.d(TAG, "HIT: Loaded binding class and constructor."); &#125; catch (ClassNotFoundException e) &#123; if (debug) Log.d(TAG, "Not found. Trying superclass " + cls.getSuperclass().getName()); bindingCtor = findBindingConstructorForClass(cls.getSuperclass()); &#125; catch (NoSuchMethodException e) &#123; throw new RuntimeException("Unable to find binding constructor for " + clsName, e); &#125; BINDINGS.put(cls, bindingCtor); return bindingCtor; &#125; é‡è¦çš„æ–¹æ³•123456Class&lt;?&gt; bindingClass = cls.getClassLoader().loadClass(clsName + "_ViewBinding"); //noinspection unchecked bindingCtor = (Constructor&lt;? extends Unbinder&gt;) bindingClass.getConstructor(cls, View.class);...BINDINGS.put(cls, bindingCtor); return bindingCtor; å…„å¼Ÿå¦‚æžœæ­¤å¤„çœ‹ä¸å¤ªæ‡‚ï¼ŒæŽ¨èä½ (æŸ¥çœ‹æœ¬ç«™Javaåå°„å­¦ä¹ å®žè·µ)ã€‚è¿™é‡Œç”Ÿæˆçš„Constructorä¸ºåŽç¼€å_ViewBindingçš„javaç±»ï¼Œå³æˆ‘ä»¬åœ¨ç¼–è¯‘æ—¶ç”Ÿæˆçš„ç±»ã€‚ä¹Ÿå°±æ˜¯è¯´ButterKnife.bindæ–¹æ³•ä¼šè°ƒç”¨_ViewBindingçš„javaç±»çš„æž„é€ å‡½æ•°ï¼Œå³æœ¬æ­¤demoä¸­çš„123456789101112131415161718192021222324@UiThread public MainActivity_ViewBinding(final MainActivity target, View source) &#123; this.target = target; View view; view = Utils.findRequiredView(source, R.id.testTv, "field 'testTv' and method 'onViewClicked'"); target.testTv = Utils.castView(view, R.id.testTv, "field 'testTv'", TextView.class); view2131427422 = view; view.setOnClickListener(new DebouncingOnClickListener() &#123; @Override public void doClick(View p0) &#123; target.onViewClicked(p0); &#125; &#125;); view = Utils.findRequiredView(source, R.id.testIv, "field 'testIv' and method 'onViewClicked'"); target.testIv = Utils.castView(view, R.id.testIv, "field 'testIv'", ImageView.class); view2131427423 = view; view.setOnClickListener(new DebouncingOnClickListener() &#123; @Override public void doClick(View p0) &#123; target.onViewClicked(p0); &#125; &#125;); &#125; ç»ˆäºŽçœ‹åˆ°äº†ç†Ÿæ‚‰çš„ä»£ç setOnClickListener().è¿™é‡Œä½¿ç”¨äº†å›žè°ƒï¼ŒæŽ¥ç€è°ƒç”¨Utilsä¸­çš„æ–¹æ³•ï¼Œå¦‚ä¸‹123456789101112131415161718192021222324252627282930313233... public static View findRequiredView(View source, @IdRes int id, String who) &#123; View view = source.findViewById(id); if (view != null) &#123; return view; &#125; String name = getResourceEntryName(source, id); throw new IllegalStateException("Required view '" + name + "' with ID " + id + " for " + who + " was not found. If this view is optional add '@Nullable' (fields) or '@Optional'" + " (methods) annotation."); &#125;... public static &lt;T&gt; T castView(View view, @IdRes int id, String who, Class&lt;T&gt; cls) &#123; try &#123; return cls.cast(view); &#125; catch (ClassCastException e) &#123; String name = getResourceEntryName(view, id); throw new IllegalStateException("View '" + name + "' with ID " + id + " for " + who + " was of the wrong type. See cause for more info.", e); &#125; &#125;... æˆ‘é‡Œä¸ªç¥žå•Šï¼Œç»ˆäºŽçœ‹åˆ°findViewByIdäº† å¿ƒå¥½ç´¯ã€‚ å…¶å®žè¯´ç™½äº†å°±æ˜¯ä½¿ç”¨ç¼–è¯‘æ—¶æ³¨è§£ï¼ŒåŠ åŠ¨æ€ç”ŸæˆJavaç±»æ¥å®Œæˆä¸€äº›é‡å¤æ“ä½œï¼Œæ¯”å¦‚findViewVByIdå’Œç‚¹å‡»äº‹ä»¶ã€‚ä½†æ˜¯ï¼Œè€é“ï¼Œä½ è¿™ä¸ªæ¡†æž¶æºç æ˜¯å†™çš„çœŸçš„åŽ‰å®³ æºç çš„æš‚æ—¶åˆ†æžåˆ°è¿™é‡Œå§ï¼Œå…¶å®žåˆ†æžèµ·æ¥éƒ½ä¸å¤ªéš¾ï¼Œä¸»è¦çš„æ˜¯å­¦ä¹ æºç ä¸­çš„å¤„ç†é—®é¢˜çš„æ–¹å¼ã€‚å½“ç„¶è¿˜æœ‰ç¼–ç é£Žæ ¼è‰²å‰‚æ¨¡å¼ã€‚ å‚è€ƒ JakeWharton/butterknife Jlog`s Javaæ³¨è§£å¤„ç†å™¨ æ·±å…¥ç†è§£ButterKnifeæºç å¹¶æŽŒæ¡åŽŸç†ç³»åˆ—]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>android</tag>
        <tag>æ³¨è§£</tag>
        <tag>Butterknife</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Javaåå°„å­¦ä¹ å®žè·µ]]></title>
    <url>%2F2017%2F06%2F05%2FJava%E5%8F%8D%E5%B0%84%E5%AD%A6%E4%B9%A0%E5%AE%9E%E8%B7%B5%2F</url>
    <content type="text"><![CDATA[ç®€å•æ¥è¯´ï¼ŒJavaä¸­é€šè¿‡åå°„ï¼Œå¯ä»¥åœ¨è¿è¡Œæ—¶èŽ·å¾—ç¨‹åºè‡ªèº«çš„ä¿¡æ¯ï¼Œå¹¶ä¸”å¯ä»¥æ“ä½œç±»æˆ–å¯¹è±¡çš„å†…éƒ¨å±žæ€§ã€‚ Reflection enables Java code to discover information about the fields, methods and constructors of loaded classes, and to use reflected fields, methods, and constructors to operate on their underlying counterparts, within security restrictions.The API accommodates applications that need access to either the public members of a target object (based on its runtime class) or the members declared by a given class. It also allows programs to suppress default reflective access control. ä¸Šè¿°ä¸ºOracleå®˜æ–¹çš„åå°„è§£é‡Šã€‚ Javaåå°„æä¾›çš„åŠŸèƒ½ï¼š 1.åœ¨è¿è¡Œæ—¶åˆ¤æ–­ä»»æ„ä¸€ä¸ªå¯¹è±¡æ‰€å±žçš„ç±»ï¼› 2.åœ¨è¿è¡Œæ—¶æž„é€ ä»»æ„ä¸€ä¸ªç±»çš„å¯¹è±¡ï¼› 3.åœ¨è¿è¡Œæ—¶åˆ¤æ–­ä»»æ„ä¸€ä¸ªç±»æ‰€å…·æœ‰çš„æˆå‘˜å˜é‡å’Œæ–¹æ³•ï¼ˆé€šè¿‡åå°„ç”šè‡³å¯ä»¥è°ƒç”¨privateæ–¹æ³•ï¼‰ï¼› 4.åœ¨è¿è¡Œæ—¶è°ƒç”¨ä»»æ„ä¸€ä¸ªå¯¹è±¡çš„æ–¹æ³• classç±»æåˆ°åå°„ï¼Œæˆ‘ä»¬éœ€è¦å…ˆå£°æ˜Žä¸‹Javaä¸­çš„classç±»,as we know,æ‰€æœ‰çš„javaç±»å‡ç»§æ‰¿äº†Objectç±»ï¼Œåœ¨Objectç±»ä¸­å®šä¹‰äº†ä¸€ä¸ªgetClass()æ–¹æ³•ï¼Œè¯¥æ–¹æ³•è¿”å›žä¸€ä¸ªç±»åž‹ä¸ºClassçš„å¯¹è±¡ã€‚å¦‚ä¸‹1Class testc = textField.getClass();//textFieldä¸ºJTextFieldå¯¹è±¡ é€šè¿‡testcå¯¹è±¡æˆ‘ä»¬å¯ä»¥è®¿é—®åˆ°JTextFielçš„æè¿°ä¿¡æ¯ï¼šä¸»è¦æè¿°ä¿¡æ¯å¦‚ä¸‹ è®¿é—®æ–¹æ³• è¿”å›žå€¼ç±»åž‹ è¯´æ˜Ž getPackage() Packageå¯¹è±¡ èŽ·å¾—è¯¥ç±»çš„å­˜æ”¾è·¯å¾„ getName() Stringå¯¹è±¡ è¯¥ç±»çš„åç§° getSuperClass() Classå¯¹è±¡ èŽ·å¾—è¯¥ç±»ç»§æ‰¿çš„ç±» getInterface() Classæ•°ç»„ èŽ·å¾—è¯¥ç±»å®žçŽ°çš„æ‰€æœ‰æŽ¥å£ getConstructors() Constructoræ•°ç»„ èŽ·å¾—æ‰€æœ‰æƒé™ä¸ºpublicçš„æž„é€ æ–¹æ³• getConstructor(Class&lt;?&gt;â€¦types) Constructorå¯¹è±¡ èŽ·å¾—æƒé™ä¸ºpublicçš„æŒ‡å®šçš„æž„é€ æ–¹æ³• getDeclaredConstructors() Constructoræ•°ç»„ èŽ·å¾—æ‰€æœ‰çš„æž„é€ æ–¹æ³•ï¼ŒæŒ‰å£°æ˜Žé¡ºåºè¿”å›ž getDeclaredConstructor(Class&lt;?&gt;â€¦types) Constructorå¯¹è±¡ èŽ·å¾—æŒ‡å®šçš„æž„é€ æ–¹æ³• getMethods() Methodæ•°ç»„ èŽ·å¾—æ‰€æœ‰æƒé™ä¸ºPublicçš„æ–¹æ³• getMethod(String name, Class&lt;?&gt;â€¦types) Methodå¯¹è±¡ èŽ·å¾—æƒé™ä¸ºPublicçš„æŒ‡å®šçš„æ–¹æ³• getDeclaredMethods() Methodæ•°ç»„ èŽ·å¾—æ‰€æœ‰çš„æ–¹æ³•,æŒ‰å£°æ˜Žé¡ºåºè¿”å›ž getDeclaredMethod(String name, Class&lt;?&gt;â€¦types) Methodå¯¹è±¡ èŽ·å¾—æŒ‡å®šçš„æ–¹æ³• getFields() Fieldæ•°ç»„ èŽ·å¾—æ‰€æœ‰æƒé™ä¸ºPublicçš„æˆå‘˜å˜é‡ getField(String name) Fieldå¯¹è±¡ èŽ·å¾—æƒé™ä¸ºPublicçš„æŒ‡å®šçš„æˆå‘˜å˜é‡ getDeclaredFields() Fieldæ•°ç»„ èŽ·å¾—æ‰€æœ‰çš„æˆå‘˜å˜é‡ getDeclaredField(String name) Methodå¯¹è±¡ èŽ·å¾—æŒ‡å®šçš„æˆå‘˜å˜é‡ getClasses() Classæ•°ç»„ èŽ·å¾—æ‰€æœ‰æƒé™ä¸ºpublicçš„å†…éƒ¨ç±» getDeclaredClasses() Classæ•°ç»„ èŽ·å¾—æ‰€æœ‰å†…éƒ¨ç±» getDeclaringClass() Classå¯¹è±¡ å¦‚æžœè¯¥ç±»ä¸ºå†…éƒ¨ç±»ï¼Œåˆ™è¿”å›žå®ƒçš„æˆå‘˜ç±»ï¼Œå¦åˆ™è¿”å›žnull è¯´æ˜Ž:getClasses()å’ŒgetMethods()ä¼šåŒ…å«çˆ¶ç±»ä¸­æƒé™ä¸ºpublicçš„æˆå‘˜å˜é‡å’Œæ–¹æ³• èŽ·å¾—Classçš„å…¶ä»–æ–¹æ³•12345//ç¬¬ä¸€ç§æ–¹å¼ï¼š Class testc = Class.forName("JTextField"); //ç¬¬äºŒç§æ–¹å¼ï¼š //javaä¸­æ¯ä¸ªç±»åž‹éƒ½æœ‰class å±žæ€§. Class testc = JTextField.class; javaæä¾›çš„åå°„ç±»java.lang.Class;java.lang.reflect.Constructor; java.lang.reflect.Field;java.lang.reflect.Method;java.lang.reflect.Modifier; èŽ·å¾—Classå¯¹è±¡123456789101112131415161718192021222324252627package com.mrx.testreflection;/** * åå°„å®žè·µç±» * 2017å¹´6æœˆ6æ—¥21:33:22 * @author Mrx */public class TestReflection &#123; public static void main(String[] args) &#123; /**èŽ·å¾—classçš„æ–¹å¼**/ Class c1 = null; Class c2 = null; Class c3 = null; try &#123; c1 = Class.forName("com.mrx.testreflection.TestReflection"); &#125; catch (ClassNotFoundException e) &#123; e.printStackTrace(); &#125; c2 = new TestReflection().getClass(); c3 = TestReflection.class; System.out.println(c1.getName()); System.out.println(c2.getName()); System.out.println(c3.getName()); &#125;&#125; æ‰“å°ç»“æžœä¸º123com.mrx.testreflection.TestReflectioncom.mrx.testreflection.TestReflectioncom.mrx.testreflection.TestReflection èŽ·å¾—å¯¹è±¡çš„çˆ¶ç±»å’Œå®žçŽ°çš„æŽ¥å£123456789101112131415161718192021222324package com.mrx.testreflection;import java.io.Serializable;/** * åå°„å®žè·µç±» * 2017å¹´6æœˆ6æ—¥21:33:22 * @author Mrx */public class TestReflection implements Serializable &#123; public static void main(String[] args) throws ClassNotFoundException &#123; Class&lt;?&gt; clazz = Class.forName("com.mrx.testreflection.TestReflection"); // å–å¾—çˆ¶ç±» Class&lt;?&gt; parentClass = clazz.getSuperclass(); System.out.println("çˆ¶ç±»ä¸ºï¼š" + parentClass.getName()); // èŽ·å–æ‰€æœ‰çš„æŽ¥å£ Class&lt;?&gt; intes[] = clazz.getInterfaces(); System.out.println("å®žçŽ°çš„æŽ¥å£æœ‰ï¼š"); for (int i = 0; i &lt; intes.length; i++) &#123; System.out.println((i + 1) + "ï¼š" + intes[i].getName()); &#125; &#125;&#125; æ‰“å°ç»“æžœä¸º12çˆ¶ç±»ä¸ºï¼šjava.lang.Objectå®žçŽ°çš„æŽ¥å£æœ‰ï¼š1ï¼šjava.io.Serializable èŽ·å¾—ç±»ä¸­çš„æž„é€ å‡½æ•°12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455package com.mrx.testreflection;import java.io.Serializable;import java.lang.reflect.Constructor;/** * åå°„å®žè·µç±» 2017å¹´6æœˆ6æ—¥21:33:22 * * @author Mrx */public class TestReflection implements Serializable &#123; public static void main(String[] args) throws ClassNotFoundException &#123; Class&lt;?&gt; class1 = null; class1 = Class.forName("com.mrx.testreflection.Person"); Constructor&lt;?&gt; cons[] = class1.getConstructors(); // æŸ¥çœ‹æ¯ä¸ªæž„é€ æ–¹æ³•éœ€è¦çš„å‚æ•° for (int i = 0; i &lt; cons.length; i++) &#123; Class&lt;?&gt; clazzs[] = cons[i].getParameterTypes(); System.out.print("cons[" + i + "] ("); for (int j = 0; j &lt; clazzs.length; j++) &#123; if (j == clazzs.length - 1) System.out.print(clazzs[j].getName()); else System.out.print(clazzs[j].getName() + ","); &#125; System.out.println(")"); &#125; &#125;&#125;class Person &#123; private String name; public int age; public Person() &#123; super(); &#125; public Person(String name) &#123; super(); this.name = name; &#125; public Person(int age) &#123; super(); this.age = age; &#125; public Person(String name, int age) &#123; super(); this.name = name; this.age = age; &#125;&#125; æ‰“å°ç»“æžœä¸º1234cons[0] (java.lang.String,int)cons[1] (int)cons[2] (java.lang.String)cons[3] () ###å®žä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374package com.mrx.testreflection;import java.io.Serializable;import java.lang.reflect.Constructor;/** * åå°„å®žè·µç±» 2017å¹´6æœˆ6æ—¥21:33:22 * * @author Mrx */public class TestReflection implements Serializable &#123; public static void main(String[] args) throws Exception &#123; Class&lt;?&gt; class1 = null; class1 = Class.forName("com.mrx.testreflection.Person"); Person person = (Person) class1.newInstance(); person.age = 20; person.name = "Lilei"; System.out.println(person); Constructor&lt;?&gt; cons[] = class1.getConstructors(); // æŸ¥çœ‹æ¯ä¸ªæž„é€ æ–¹æ³•éœ€è¦çš„å‚æ•° for (int i = 0; i &lt; cons.length; i++) &#123; Class&lt;?&gt; clazzs[] = cons[i].getParameterTypes(); System.out.print("cons[" + i + "] ("); for (int j = 0; j &lt; clazzs.length; j++) &#123; if (j == clazzs.length - 1) System.out.print(clazzs[j].getName()); else System.out.print(clazzs[j].getName() + ","); &#125; System.out.println(")"); &#125; //cons[0] (java.lang.String,int) //cons[1] (int) //cons[2] (java.lang.String) //cons[3] () Person person1 = (Person) cons[0].newInstance("Hanmeimei", 18); System.out.println(person1); Person person2= (Person) cons[1].newInstance(38); System.out.println(person2); &#125;&#125;class Person &#123; public String name; public int age; public Person() &#123; super(); &#125; public Person(String name) &#123; super(); this.name = name; &#125; public Person(int age) &#123; super(); this.age = age; &#125; public Person(String name, int age) &#123; super(); this.name = name; this.age = age; &#125; @Override public String toString() &#123; return "Person [name=" + name + ", age=" + age + "]"; &#125;&#125; æ‰“å°ç»“æžœä¸º1234567Person [name=Lilei, age=20]cons[0] (java.lang.String,int)cons[1] (int)cons[2] (java.lang.String)cons[3] ()Person [name=Hanmeimei, age=18]Person [name=null, age=38] èŽ·å–ç±»çš„å…¨éƒ¨å±žæ€§12345678910111213141516171819202122232425262728293031323334353637383940414243444546package com.mrx.testreflection;import java.io.Serializable;import java.lang.reflect.Constructor;import java.lang.reflect.Field;import java.lang.reflect.Modifier;/** * åå°„å®žè·µç±» 2017å¹´6æœˆ6æ—¥21:33:22 * * @author Mrx */public class TestReflection implements Serializable &#123; public String hello = "reflection"; private String reflection = "hello"; public static void main(String[] args) throws Exception &#123; Class&lt;?&gt; clazz = Class.forName("com.mrx.testreflection.TestReflection"); System.out.println("===============å…¨éƒ¨æˆå‘˜å˜é‡==============="); // å–å¾—æœ¬ç±»çš„å…¨éƒ¨æˆå‘˜å˜é‡ Field[] field = clazz.getDeclaredFields(); for (int i = 0; i &lt; field.length; i++) &#123; // æƒé™ä¿®é¥°ç¬¦ int mo = field[i].getModifiers(); String priv = Modifier.toString(mo); // å±žæ€§ç±»åž‹ Class&lt;?&gt; type = field[i].getType(); System.out.println(priv + " " + type.getName() + " " + field[i].getName() + ";"); &#125; System.out.println("===============publicæˆå‘˜å˜é‡==============="); // å–å¾—æœ¬ç±»çš„publicæˆå‘˜å˜é‡ Field[] filed1 = clazz.getFields(); for (int j = 0; j &lt; filed1.length; j++) &#123; // æƒé™ä¿®é¥°ç¬¦ int mo = filed1[j].getModifiers(); String priv = Modifier.toString(mo); // å±žæ€§ç±»åž‹ Class&lt;?&gt; type = filed1[j].getType(); System.out.println(priv + " " + type.getName() + " " + filed1[j].getName() + ";"); &#125; &#125;&#125; æ‰“å°ç»“æžœä¸º12345===============å…¨éƒ¨æˆå‘˜å˜é‡===============public java.lang.String hello;private java.lang.String reflection;===============publicæˆå‘˜å˜é‡===============public java.lang.String hello; èŽ·å–ç±»çš„æ–¹æ³•12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152package com.mrx.testreflection;import java.io.Serializable;import java.lang.reflect.Constructor;import java.lang.reflect.Field;import java.lang.reflect.Method;import java.lang.reflect.Modifier;/** * åå°„å®žè·µç±» 2017å¹´6æœˆ6æ—¥21:33:22 * * @author Mrx */public class TestReflection implements Serializable &#123; public String hello = "reflection"; private String reflection = "hello"; public static void main(String[] args) throws Exception &#123; Class&lt;?&gt; clazz = Class.forName("com.mrx.testreflection.TestReflection"); Method method[] = clazz.getMethods(); for (int i = 0; i &lt; method.length; ++i) &#123; Class&lt;?&gt; returnType = method[i].getReturnType(); Class&lt;?&gt; para[] = method[i].getParameterTypes(); int temp = method[i].getModifiers(); System.out.print(Modifier.toString(temp) + " "); System.out.print(returnType.getName() + " "); System.out.print(method[i].getName() + " "); System.out.print("("); for (int j = 0; j &lt; para.length; ++j) &#123; System.out.print(para[j].getName() + " " + "arg" + j); if (j &lt; para.length - 1) &#123; System.out.print(","); &#125; &#125; Class&lt;?&gt; exce[] = method[i].getExceptionTypes(); if (exce.length &gt; 0) &#123; System.out.print(") throws "); for (int k = 0; k &lt; exce.length; ++k) &#123; System.out.print(exce[k].getName() + " "); if (k &lt; exce.length - 1) &#123; System.out.print(","); &#125; &#125; &#125; else &#123; System.out.print(")"); &#125; System.out.println(); &#125; &#125;&#125; æ‰“å°ç»“æžœä¸º12345678910public static void main ([Ljava.lang.String; arg0) throws java.lang.Exception public final void wait () throws java.lang.InterruptedException public final void wait (long arg0,int arg1) throws java.lang.InterruptedException public final native void wait (long arg0) throws java.lang.InterruptedException public boolean equals (java.lang.Object arg0)public java.lang.String toString ()public native int hashCode ()public final native java.lang.Class getClass ()public final native void notify ()public final native void notifyAll () åå°„è°ƒç”¨ç±»çš„æ–¹æ³•123456789101112131415161718192021222324252627282930313233package com.mrx.testreflection;import java.io.Serializable;import java.lang.reflect.Constructor;import java.lang.reflect.Field;import java.lang.reflect.Method;import java.lang.reflect.Modifier;/** * åå°„å®žè·µç±» 2017å¹´6æœˆ6æ—¥21:33:22 * * @author Mrx */public class TestReflection implements Serializable &#123; public String hello = "reflection"; private String reflection = "hello"; public static void main(String[] args) throws Exception &#123; Class&lt;?&gt; clazz = Class.forName("com.mrx.testreflection.TestReflection"); Method method = clazz.getMethod("eatMeat"); method.invoke(clazz.newInstance()); method = clazz.getMethod("eat", String.class); method.invoke(clazz.newInstance(), "shit"); &#125; public void eatMeat() &#123; System.out.println("Java åå°„æœºåˆ¶ - è°ƒç”¨ç±»çš„æ–¹æ³•eatMeat"); &#125; public void eat(String food) &#123; System.out.println("Java åå°„æœºåˆ¶ - è°ƒç”¨ç±»çš„æ–¹æ³•eat"+food); &#125;&#125; æ‰“å°ç»“æžœ12Java åå°„æœºåˆ¶ - è°ƒç”¨ç±»çš„æ–¹æ³•eatMeatJava åå°„æœºåˆ¶ - è°ƒç”¨ç±»çš„æ–¹æ³•eatshit åå°„æ“ä½œç±»çš„å±žæ€§123456789101112131415161718192021222324252627package com.mrx.testreflection;import java.io.Serializable;import java.lang.reflect.Constructor;import java.lang.reflect.Field;import java.lang.reflect.Method;import java.lang.reflect.Modifier;/** * åå°„å®žè·µç±» 2017å¹´6æœˆ6æ—¥21:33:22 * * @author Mrx */public class TestReflection implements Serializable &#123; private String proprety = null; public static void main(String[] args) throws Exception &#123; Class&lt;?&gt; clazz = Class.forName("com.mrx.testreflection.TestReflection"); Object obj = clazz.newInstance(); // å¯ä»¥ç›´æŽ¥å¯¹ private çš„å±žæ€§èµ‹å€¼ Field field = clazz.getDeclaredField("proprety"); field.setAccessible(true); field.set(obj, "Javaåå°„æœºåˆ¶"); System.out.println(field.get(obj)); &#125;&#125; æ‰“å°ç»“æžœ1Javaåå°„æœºåˆ¶ åå°„çš„åŠ¨æ€ä»£ç†1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556package com.mrx.testreflection;import java.io.Serializable;import java.lang.reflect.Constructor;import java.lang.reflect.Field;import java.lang.reflect.InvocationHandler;import java.lang.reflect.Method;import java.lang.reflect.Modifier;import java.lang.reflect.Proxy;//å®šä¹‰é¡¹ç›®æŽ¥å£interface Subject &#123; public String say(String name, int age);&#125;// å®šä¹‰çœŸå®žé¡¹ç›®class RealSubject implements Subject &#123; public String say(String name, int age) &#123; return name + " " + age; &#125;&#125;class MyInvocationHandler implements InvocationHandler &#123; private Object obj = null; public Object bind(Object obj) &#123; this.obj = obj; return Proxy.newProxyInstance(obj.getClass().getClassLoader(), obj.getClass().getInterfaces(), this); &#125; public Object invoke(Object proxy, Method method, Object[] args) throws Throwable &#123; Object temp = method.invoke(this.obj, args); return temp; &#125;&#125;/** * åœ¨javaä¸­æœ‰ä¸‰ç§ç±»ç±»åŠ è½½å™¨ã€‚ * * 1ï¼‰Bootstrap ClassLoader æ­¤åŠ è½½å™¨é‡‡ç”¨c++ç¼–å†™ï¼Œä¸€èˆ¬å¼€å‘ä¸­å¾ˆå°‘è§ã€‚ * * 2ï¼‰Extension ClassLoader ç”¨æ¥è¿›è¡Œæ‰©å±•ç±»çš„åŠ è½½ï¼Œä¸€èˆ¬å¯¹åº”çš„æ˜¯jrelibextç›®å½•ä¸­çš„ç±» * * 3ï¼‰AppClassLoader åŠ è½½classpathæŒ‡å®šçš„ç±»ï¼Œæ˜¯æœ€å¸¸ç”¨çš„åŠ è½½å™¨ã€‚åŒæ—¶ä¹Ÿæ˜¯javaä¸­é»˜è®¤çš„åŠ è½½å™¨ã€‚ * * å¦‚æžœæƒ³è¦å®ŒæˆåŠ¨æ€ä»£ç†ï¼Œé¦–å…ˆéœ€è¦å®šä¹‰ä¸€ä¸ªInvocationHandleræŽ¥å£çš„å­ç±»ï¼Œå·²å®Œæˆä»£ç†çš„å…·ä½“æ“ä½œã€‚ * * */public class TestReflection implements Serializable &#123; private String proprety = null; public static void main(String[] args) throws Exception &#123; MyInvocationHandler demo = new MyInvocationHandler(); Subject sub = (Subject) demo.bind(new RealSubject()); String info = sub.say("Rollen", 20); System.out.println(info); &#125;&#125; æ‰“å°ç»“æžœä¸º1Rollen 20 åå°„çš„åº”ç”¨åœ¨æ³›åž‹ä¸ºIntegerçš„ArrayListä¸­å­˜æ”¾ä¸€ä¸ªStringç±»åž‹çš„å¯¹è±¡ã€‚12345678910111213141516171819202122package com.mrx.testreflection;import java.io.Serializable;import java.lang.reflect.Constructor;import java.lang.reflect.Field;import java.lang.reflect.InvocationHandler;import java.lang.reflect.Method;import java.lang.reflect.Modifier;import java.lang.reflect.Proxy;import java.util.ArrayList;public class TestReflection implements Serializable &#123; private String proprety = null; public static void main(String[] args) throws Exception &#123; ArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;(); Method method = list.getClass().getMethod("add", Object.class); method.invoke(list, "Javaåå°„æœºåˆ¶å®žä¾‹ã€‚"); System.out.println(list.get(0)); &#125;&#125; æ‰“å°ç»“æžœä¸º1Javaåå°„æœºåˆ¶å®žä¾‹ã€‚ åå°„ä¿®æ”¹æ•°ç»„ä¿¡æ¯å’Œå¤§å°123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354package com.mrx.testreflection;import java.io.Serializable;import java.lang.reflect.Array;import java.lang.reflect.Constructor;import java.lang.reflect.Field;import java.lang.reflect.InvocationHandler;import java.lang.reflect.Method;import java.lang.reflect.Modifier;import java.lang.reflect.Proxy;import java.util.ArrayList;public class TestReflection implements Serializable &#123; private String proprety = null; public static void main(String[] args) throws Exception &#123; int[] temp = &#123; 1, 2, 3, 4, 5 &#125;; Class&lt;?&gt; demo = temp.getClass().getComponentType(); System.out.println("æ•°ç»„ç±»åž‹ï¼š " + demo.getName()); System.out.println("æ•°ç»„é•¿åº¦ " + Array.getLength(temp)); System.out.println("æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ : " + Array.get(temp, 0)); Array.set(temp, 0, 100); System.out.println("ä¿®æ”¹ä¹‹åŽæ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºï¼š " + Array.get(temp, 0)); int[] newTemp = (int[]) arrayInc(temp, 15); print(newTemp); String[] atr = &#123; "a", "b", "c" &#125;; String[] str1 = (String[]) arrayInc(atr, 8); print(str1); &#125; // ä¿®æ”¹æ•°ç»„å¤§å° public static Object arrayInc(Object obj, int len) &#123; Class&lt;?&gt; arr = obj.getClass().getComponentType(); Object newArr = Array.newInstance(arr, len); int co = Array.getLength(obj); System.arraycopy(obj, 0, newArr, 0, co); return newArr; &#125; // æ‰“å° public static void print(Object obj) &#123; Class&lt;?&gt; c = obj.getClass(); if (!c.isArray()) &#123; return; &#125; System.out.println("æ•°ç»„é•¿åº¦ä¸ºï¼š " + Array.getLength(obj)); for (int i = 0; i &lt; Array.getLength(obj); i++) &#123; System.out.print(Array.get(obj, i) + " "); &#125; System.out.println(); &#125;&#125; æ‰“å°ç»“æžœä¸º12345678æ•°ç»„ç±»åž‹ï¼š intæ•°ç»„é•¿åº¦ 5æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ : 1ä¿®æ”¹ä¹‹åŽæ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºï¼š 100æ•°ç»„é•¿åº¦ä¸ºï¼š 15100 2 3 4 5 0 0 0 0 0 0 0 0 0 0 æ•°ç»„é•¿åº¦ä¸ºï¼š 8a b c null null null null null å°†åå°„æœºåˆ¶åº”ç”¨äºŽæ”¹å–„ç®€å•å·¥åŽ‚æ¨¡å¼çš„ç¼ºé™·12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667package com.mrx.testreflection;import java.io.Serializable;import java.lang.reflect.Array;import java.lang.reflect.Constructor;import java.lang.reflect.Field;import java.lang.reflect.InvocationHandler;import java.lang.reflect.Method;import java.lang.reflect.Modifier;import java.lang.reflect.Proxy;import java.util.ArrayList;interface Animal &#123; public abstract void eat();&#125;class Wolf implements Animal &#123; public void eat() &#123; System.out.println("wolf eat meat"); &#125;&#125;class Dog implements Animal &#123; public void eat() &#123; System.out.println("dog eat shit"); &#125;&#125;class Factory &#123; public static Animal getInstance(String ClassName) &#123; Animal animal = null; try &#123; animal = (Animal) Class.forName(ClassName).newInstance(); &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; return animal; &#125;&#125;/** * å¯¹äºŽæ™®é€šçš„å·¥åŽ‚æ¨¡å¼å½“æˆ‘ä»¬åœ¨æ·»åŠ ä¸€ä¸ªå­ç±»çš„æ—¶å€™ï¼Œå°±éœ€è¦å¯¹åº”çš„ä¿®æ”¹å·¥åŽ‚ç±»ã€‚ å½“æˆ‘ä»¬æ·»åŠ å¾ˆå¤šçš„å­ç±»çš„æ—¶å€™ï¼Œä¼šå¾ˆéº»çƒ¦ã€‚ * Java å·¥åŽ‚æ¨¡å¼å¯ä»¥å‚è€ƒ * http://baike.xsoftlab.net/view/java-factory-pattern * * çŽ°åœ¨æˆ‘ä»¬åˆ©ç”¨åå°„æœºåˆ¶å®žçŽ°å·¥åŽ‚æ¨¡å¼ï¼Œå¯ä»¥åœ¨ä¸ä¿®æ”¹å·¥åŽ‚ç±»çš„æƒ…å†µä¸‹æ·»åŠ ä»»æ„å¤šä¸ªå­ç±»ã€‚ * * ä½†æ˜¯æœ‰ä¸€ç‚¹ä»ç„¶å¾ˆéº»çƒ¦ï¼Œå°±æ˜¯éœ€è¦çŸ¥é“å®Œæ•´çš„åŒ…åå’Œç±»åï¼Œè¿™é‡Œå¯ä»¥ä½¿ç”¨propertiesé…ç½®æ–‡ä»¶æ¥å®Œæˆã€‚ * * java è¯»å– properties é…ç½®æ–‡ä»¶ çš„æ–¹æ³•å¯ä»¥å‚è€ƒ * http://baike.xsoftlab.net/view/java-read-the-properties-configuration-file * */public class TestReflection implements Serializable &#123; public static void main(String[] args) throws Exception &#123; Animal f = null; f = Factory.getInstance("com.mrx.testreflection.Dog"); if (f != null) &#123; f.eat(); &#125; f = Factory.getInstance("com.mrx.testreflection.Wolf"); if (f != null) &#123; f.eat(); &#125; &#125;&#125; æ‰“å°ç»“æžœä¸º12dog eat shitwolf eat meat å‚è€ƒJavaJavaåˆçº§ç å†œåšå®¢]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>åå°„</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Androidå¼€å‘æŠ€èƒ½å¯¼å›¾]]></title>
    <url>%2F2017%2F06%2F05%2FAndroid%E5%BC%80%E5%8F%91%E6%8A%80%E8%83%BD%E5%AF%BC%E5%9B%BE%2F</url>
    <content type="text"><![CDATA[æœ€è¿‘å‚è€ƒå…¶ä»–äººå‘å¸ƒçš„androidå¼€å‘æŠ€èƒ½å›¾è°±ï¼Œè‡ªå·±å¤§æ¦‚æ•´ç†å‡ºæ¥ä¸€ä»½ï¼Œä¾›å¤§å®¶å‚è€ƒï¼Œå¦‚æœ‰é—æ¼ï¼Œè¯·æŒ‡æ­£ã€‚å¦å¤–ï¼Œåæ§½ä¸‹ç½‘æ˜“äº‘è·Ÿå¸–å®¡æ ¸æœºåˆ¶æ˜¯çœŸçš„å½±å“ä½“éªŒå•Šï¼å®¡æ ¸æ—¶é—´å¤ªé•¿å•¦~~~å°ä¼™ä¼´æœ‰ç–‘é—®å¯ä»¥å‘æˆ‘é‚®ä»¶ðŸ“§ å³ä¸Šåˆ†æ”¯ä¸»é¢˜ä¸ºå®žé™…å¼€å‘è¿‡ç¨‹ä¸­éœ€è¦ä½¿ç”¨åˆ°çš„æŠ€æœ¯è¯´æ˜Žï¼šæŒç»­é›†æˆç”¨äºŽè‡ªåŠ¨æž„å»ºæ‰“åŒ…æŠ€æœ¯ å³ä¸­åˆ†æ”¯ä¸»é¢˜ä¸ºAndroidå¼€å‘ä¸­çš„æ–°æŠ€æœ¯ å³ä¸‹åˆ†æ”¯ä¸»é¢˜ä¸ºAndroid apkä¼˜åŒ– å·¦ä¾§ä¸»é¢˜ä¸ºAndroidè¿›é˜¶æŠ€èƒ½ï¼ˆè‡ªåŠ¨åŒ–æµ‹è¯•è¿™å—æš‚æ—¶å½’ä¸ºæ­¤ç±»å§ï¼‰]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>android</tag>
        <tag>androidæŠ€èƒ½</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é¢å‘å¯¹è±¡çš„åŸºæœ¬åŽŸåˆ™]]></title>
    <url>%2F2017%2F05%2F22%2F%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%9F%BA%E6%9C%AC%E5%8E%9F%E5%88%99%2F</url>
    <content type="text"><![CDATA[å…¶å®žå†³å®šå†™è®¾è®¡æ¨¡å¼ç›¸å…³æ–‡ç« çš„æ—¶å€™ï¼Œå†…å¿ƒæ˜¯æœ‰ç‚¹å¿å¿‘çš„ã€‚ä¸æ˜¯é‚£ä¸ªå¿å¿‘ï¼Œæ˜¯é‚£ä¸ªå¿å¿‘ï¼Œæ¯•ç«Ÿè‡ªå·±æœ‰ç‚¹åƒå¢™å¤´èŠ¦è‹‡â€”â€”å¤´é‡è„šè½»æ ¹åº•æµ…ã€‚ä½†æ˜¯è¿˜æ˜¯å†³å®šè®°å½•ä¸‹è‡ªå·±çš„å­¦ä¹ å¿ƒå¾—å§ï¼Œå½“ç„¶æ–‡ç« ä¸å½“ä¹‹å¤„ï¼Œè¯·å„ä½å¤§ä¾ åŠæ—¶æŒ‡æ­£ï¼Œç«‹é©¬ä¿®æ”¹~ å•ä¸€èŒè´£ ä¸¤ä¸ªå®Œå…¨ä¸ä¸€æ ·çš„åŠŸèƒ½ä¸åº”è¯¥æ”¾åœ¨ä¸€ä¸ªç±»ä¸­ã€‚ä¸€ä¸ªç±»ä¸­åº”è¯¥æ˜¯ä¸€ç»„ç›¸å…³æ€§å¾ˆé«˜çš„å‡½æ•°ã€æ•°æ®çš„å°è£… //TODO å¼€é—­åŽŸåˆ™ è½¯ä»¶ä¸­çš„ç±»ã€æ¨¡å—ã€å‡½æ•°ç­‰ï¼Œåº”è¯¥å¯¹äºŽæ‰©å±•æ˜¯å¼€æ”¾çš„ï¼Œä½†æ˜¯å¯¹äºŽä¿®æ”¹æ˜¯å°é—­çš„ã€‚ å› æ­¤ï¼Œå½“è½¯ä»¶éœ€è¦å˜åŒ–æ—¶ï¼Œæˆ‘ä»¬åº”è¯¥å°½é‡çš„é€šè¿‡æ‰©å±•çš„æ–¹å¼æ¥å®žçŽ°å˜åŒ–ï¼Œè€Œä¸æ˜¯é€šè¿‡ä¿®æ”¹å·²æœ‰ä»£ç æ¥å®žçŽ°ï¼Œä¸è¿‡åœ¨çŽ°å®žå¼€å‘ä¸­ï¼Œåªé€šè¿‡ç»§æ‰¿çš„æ–¹å¼æ¥å®žçŽ°å‡çº§ã€ç»´æŠ¤åŽŸæœ‰ç³»ç»Ÿåªæ˜¯ä¸€ä¸ªç†æƒ³åŒ–çš„æ„¿æ™¯ï¼Œå› æ­¤ï¼Œåœ¨å®žé™…å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä¿®æ”¹åŽŸæœ‰ä»£ç ã€æ‰©å±•ä»£ç å¾€å¾€æ˜¯åŒæ—¶å­˜åœ¨çš„ã€‚ //TODO é‡Œæ°æ›¿æ¢ æ‰€æœ‰å¼•ç”¨åŸºç±»çš„åœ°æ–¹å¿…é¡»èƒ½é€æ˜Žçš„ä½¿ç”¨å­ç±»å¯¹è±¡ã€‚åªè¦çˆ¶ç±»èƒ½å‡ºçŽ°çš„åœ°æ–¹å­ç±»å°±å¯ä»¥å‡ºçŽ°ï¼Œè€Œä¸”æ›¿æ¢ä¸ºå­ç±»ä¹Ÿä¸ä¼šäº§ç”Ÿä»»ä½•é”™è¯¯æˆ–å¼‚å¸¸ã€‚ //TODO ä¾èµ–å€’ç½® æ¨¡å—é—´çš„ä¾èµ–é€šè¿‡æŠ½è±¡å‘ç”Ÿï¼Œå®žçŽ°ç±»ä¹‹é—´ä¸å‘ç”Ÿç›´æŽ¥ä¾èµ–å…³ç³»ï¼Œå…¶ä»–ä¾èµ–å…³ç³»æ˜¯é€šè¿‡æŽ¥å£æˆ–æŠ½è±¡ç±»äº§ç”Ÿçš„ã€‚ //TODO æŽ¥å£éš”ç¦» ç±»é—´çš„ä¾èµ–å…³ç³»åº”è¯¥å»ºç«‹åœ¨æœ€å°çš„æŽ¥å£ä¸Šã€‚ //TODO è¿ªç±³ç‰¹ ä¸€ä¸ªç±»åº”è¯¥è‡ªå·±éœ€è¦è€¦åˆæˆ–è°ƒç”¨çš„ç±»çŸ¥é“çš„æœ€å°‘ï¼Œç±»çš„å†…éƒ¨å¦‚ä½•å®žçŽ°ä¸Žè°ƒç”¨è€…æˆ–ä¾èµ–è€…æ²¡å…³ç³»ï¼Œè°ƒç”¨è€…æˆ–è€…ä¾èµ–è€…åªéœ€è¦çŸ¥é“å®ƒéœ€è¦çš„æ–¹æ³•å³å¯ã€‚ //TODO]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>é¢å‘å¯¹è±¡</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[React Nativeå…¥é—¨åˆ°æ€€ç–‘äººç”Ÿï¼ˆäº”ï¼‰]]></title>
    <url>%2F2017%2F05%2F22%2FReact-Native%E5%85%A5%E9%97%A8%E5%88%B0%E6%80%80%E7%96%91%E4%BA%BA%E7%94%9F%EF%BC%88%E4%BA%94%EF%BC%89%2F</url>
    <content type="text"><![CDATA[æ¬¢è¿Žæ”¶å¬React Nativeç³»åˆ—ï¼ŒåŸºäºŽWindow10,åå‘äºŽAndroidç«¯çš„React Nativeã€‚ä¸Šä¸€ç« React Nativeå…¥é—¨åˆ°æ€€ç–‘äººç”Ÿï¼ˆå››ï¼‰æˆ‘ä»¬å·²ç»è®²è§£äº†flexboxå¸ƒå±€ï¼ŒæŽ§ä»¶å®½é«˜ç›¸å…³çŸ¥è¯†ï¼Œæœ¬ç« èŠ‚å°†è®²è§£RNçš„SrollView,ListView,å’Œç½‘ç»œç›¸å…³çŸ¥è¯†ã€‚æœ¬ç« å°†ä½¿ç”¨ES6è¯­æ³•ã€‚æ–‡ç« ä¸å½“ä¹‹å¤„ï¼Œå¸Œæœ›å¤§å®¶ä¸åèµæ•™ï¼Œå¤šè°¢ï¼ ScrollViewå“‡ï¼å¥½ç†Ÿæ‚‰å•Šï¼æ²¡é”™RNä¸­çš„ScrollViewå’ŒAndroidä¸­çš„ScrollViewæŽ§ä»¶æ¦‚å¿µåŸºæœ¬ç›¸åŒã€‚but,å¦‚ä¸‹ ScrollViewæœ€é€‚åˆå±•ç¤ºå°‘é‡æœ‰é™å°ºå¯¸çš„ä¸œè¥¿ã€‚ ScrollViewçš„æ‰€æœ‰å…ƒç´ å’Œè§†å›¾éƒ½å°†è¢«æ¸²æŸ“ï¼Œå³ä½¿å®ƒä»¬å½“å‰æœªæ˜¾ç¤ºåœ¨å±å¹•ä¸Šã€‚å¦‚æžœæ‚¨æœ‰æ›´é•¿çš„é¡¹ç›®åˆ—è¡¨å¯ä»¥åœ¨å±å¹•ä¸Šï¼Œæ‚¨åº”è¯¥ä½¿ç”¨ListViewä»£æ›¿ã€‚ ScrollViewæ¸²æŸ“è§†å›¾ï¼Œä¼šå…¨éƒ¨æ¸²æŸ“ã€‚æ‰€ä»¥ä½¿ç”¨éœ€è¦è°¨æ…Žï¼Œé˜²æ­¢è¿‡åº¦æ¸²æŸ“ã€‚ 123456789101112131415161718192021222324252627282930313233343536/********-----------------scrollview--------------------******///ä¼šæ¸²æŸ“è¿‡åº¦ æŽ¨èä½¿ç”¨listviewimport React, &#123;Component&#125; from 'react';import &#123;AppRegistry, Text, Image, ScrollView&#125; from 'react-native';class IScrolledDownAndWhatHappenedNextShockedMe extends Component &#123; render() &#123; return ( &lt;ScrollView&gt; &lt;Text style=&#123;&#123;fontSize: 20&#125;&#125;&gt;Scroll me&lt;/Text&gt; &lt;Image source=&#123;&#123;uri: 'https://facebook.github.io/react/img/logo_og.png'&#125;&#125;style=&#123;&#123;width: 40, height: 40&#125;&#125;/&gt; &lt;Image source=&#123;&#123;uri: 'https://facebook.github.io/react/img/logo_og.png'&#125;&#125;style=&#123;&#123;width: 40, height: 40&#125;&#125;/&gt; &lt;Image source=&#123;&#123;uri: 'https://facebook.github.io/react/img/logo_og.png'&#125;&#125;style=&#123;&#123;width: 40, height: 40&#125;&#125;/&gt; &lt;Image source=&#123;&#123;uri: 'https://facebook.github.io/react/img/logo_og.png'&#125;&#125;style=&#123;&#123;width: 40, height: 40&#125;&#125;/&gt; &lt;Image source=&#123;&#123;uri: 'https://facebook.github.io/react/img/logo_og.png'&#125;&#125;style=&#123;&#123;width: 40, height: 40&#125;&#125;/&gt; &lt;Image source=&#123;&#123;uri: 'https://facebook.github.io/react/img/logo_og.png'&#125;&#125;style=&#123;&#123;width: 40, height: 40&#125;&#125;/&gt; &lt;Image source=&#123;&#123;uri: 'https://facebook.github.io/react/img/logo_og.png'&#125;&#125;style=&#123;&#123;width: 40, height: 40&#125;&#125;/&gt; &lt;Image source=&#123;&#123;uri: 'https://facebook.github.io/react/img/logo_og.png'&#125;&#125;style=&#123;&#123;width: 40, height: 40&#125;&#125;/&gt; &lt;Text style=&#123;&#123;fontSize:20&#125;&#125;&gt;If you like&lt;/Text&gt; &lt;Image source=&#123;&#123;uri: 'https://facebook.github.io/react/img/logo_og.png'&#125;&#125;style=&#123;&#123;width: 40, height: 40&#125;&#125;/&gt; &lt;Image source=&#123;&#123;uri: 'https://facebook.github.io/react/img/logo_og.png'&#125;&#125;style=&#123;&#123;width: 40, height: 40&#125;&#125;/&gt; &lt;Image source=&#123;&#123;uri: 'https://facebook.github.io/react/img/logo_og.png'&#125;&#125;style=&#123;&#123;width: 40, height: 40&#125;&#125;/&gt; &lt;Image source=&#123;&#123;uri: 'https://facebook.github.io/react/img/logo_og.png'&#125;&#125;style=&#123;&#123;width: 40, height: 40&#125;&#125;/&gt; &lt;Image source=&#123;&#123;uri: 'https://facebook.github.io/react/img/logo_og.png'&#125;&#125;style=&#123;&#123;width: 40, height: 40&#125;&#125;/&gt; &lt;Image source=&#123;&#123;uri: 'https://facebook.github.io/react/img/logo_og.png'&#125;&#125;style=&#123;&#123;width: 40, height: 40&#125;&#125;/&gt; &lt;Text style=&#123;&#123;fontSize:20&#125;&#125;&gt;If you like&lt;/Text&gt; &lt;Image source=&#123;&#123;uri: 'https://facebook.github.io/react/img/logo_og.png'&#125;&#125; style=&#123;&#123;width: 40, height: 40&#125;&#125;/&gt; &lt;Image source=&#123;&#123;uri: 'https://facebook.github.io/react/img/logo_og.png'&#125;&#125;style=&#123;&#123;width: 40, height: 40&#125;&#125;/&gt; &lt;Image source=&#123;&#123;uri: 'https://facebook.github.io/react/img/logo_og.png'&#125;&#125;style=&#123;&#123;width: 40, height: 40&#125;&#125;/&gt; &lt;Image source=&#123;&#123;uri: 'https://facebook.github.io/react/img/logo_og.png'&#125;&#125;style=&#123;&#123;width: 40, height: 40&#125;&#125;/&gt; &lt;Image source=&#123;&#123;uri: 'https://facebook.github.io/react/img/logo_og.png'&#125;&#125;style=&#123;&#123;width: 40, height: 40&#125;&#125;/&gt; &lt;/ScrollView&gt; ); &#125;&#125;AppRegistry.registerComponent('FirstRNProject', () =&gt; IScrolledDownAndWhatHappenedNextShockedMe); gifå›¾å½•åˆ¶æ²¡æžï¼Œæš‚æ—¶å°±ä¸æ”¾å›¾ ListView é‡‘é£ŽçŽ‰éœ²ä¸€ç›¸é€¢,ä¾¿èƒœå´äººé—´æ— æ•° as you think.RNçš„ListViewå’ŒAndroidçš„listViewæ¦‚å¿µç›¸ä¼¼ã€‚åŒæ ·éœ€è¦æ•°æ®æºï¼ˆdataSourceï¼‰ï¼Œå’Œè§£æžæ•°æ®å¹¶å±•ç¤ºåˆ°æ¡ç›®ï¼ˆrenderRowï¼‰ã€‚åŒæ—¶ï¼Œåœ¨åˆå§‹åŒ–ListViewçš„æ—¶å€™ï¼Œä½ éœ€è¦ç›‘å¬rowHasChangedå‡½æ•°ï¼Œæ¥åˆ¤æ–­æŸè¡Œæ•°æ®æ˜¯å¦å˜åŒ–ï¼Œè¿™æ˜¯å¿…é¡»çš„å±žæ€§ã€‚å½“ç„¶ï¼Œä½ å¯ä»¥å‘æŒ¥ä½ çš„æƒ³è±¡ï¼Œåœ¨Andoridä¸­ListViewçš„å±žæ€§ï¼Œéƒ½å¯ä»¥ç§»æ¤åˆ°RNå½“ä¸­æ¥ã€‚è‡³äºŽï¼Œå…·ä½“çš„ç”¨æ³•ï¼Œä¼šåœ¨åŽé¢çš„å…·ä½“é¡¹ç›®ä¸­è¿›è¡Œå®žè·µï¼Œæ•¬è¯·æœŸå¾…ï¼ åºŸè¯ä¸å¤šè¯´ï¼Œä»£ç ä¸Šè§ï¼Œå¦‚ä¸‹ 1234567891011121314151617181920212223242526272829303132/************-------------------listview---------------*******/import React, &#123;Component&#125; from 'react';import &#123;AppRegistry, Text, Image, ListView, View&#125; from 'react-native';class ListViewBasics extends Component &#123; constructor(props) &#123; super(props); const ds = new ListView.DataSource(&#123;rowHasChanged: (r1, r2) =&gt; r1 !== r2&#125;); this.state = &#123; dataSource: ds.cloneWithRows([ 'xyx', 'hl', 'yxix', 'lh', 'yxiac', 'yxxiac' ]) &#125;; &#125; render() &#123; return ( &lt;View style=&#123;&#123;flex:1, paddingTop: 22&#125;&#125;&gt; &lt;ListView dataSource=&#123;this.state.dataSource&#125; renderRow=&#123;(rowData, rowId) =&gt; &lt;Text style=&#123;&#123;height: 500&#125;&#125;&gt;&#123;rowData+rowId&#125;&lt;/Text&gt;&#125;/&gt; &lt;/View&gt; ); &#125;&#125;AppRegistry.registerComponent('FirstRNProject', () =&gt; ListViewBasics); gifå›¾å½•åˆ¶æ²¡æžï¼Œæš‚æ—¶å°±ä¸æ”¾å›¾ //TODO ç›¸åŒçš„æ•°æ®åœ¨ListViewå’ŒScrollViewä¸­è¿‡æ¸¡æ¸²æŸ“çš„æ•ˆæžœå±•ç¤º NetWorkReact Nativeæä¾›äº†å’Œwebæ ‡å‡†ä¸€è‡´çš„Fetch APIï¼Œsoï¼Œyou need look fetch. 12345678910111213141516171819202122232425262728/************------------------network------------------*********/import React, &#123;Component&#125; from 'react';import &#123;AppRegistry, ListView, Text, View&#125; from 'react-native';getMoviesFromApiAsync()&#123; return fetch('https://facebook.github.io/react-native/movies.json') .then((response) =&gt; response.json()) .then((responseJson) =&gt; &#123; return responseJson.movies; &#125;) .catch((error) =&gt; &#123; console.error(error); &#125;);&#125;// //ES7è¯­æ³•// async getMoviesFromApi()// &#123;// try &#123;// let response = await fetch('https://facebook.github.io/react-native/movies.json');// let responseJson = await response.json();// return responseJson.movies;// &#125; catch (error) &#123;// console.error(error);// &#125;// &#125; ä»£ç å¦‚ä¸Šå›¾ï¼Œå…¶ä¸­çš„.thenæ˜¯å› ä¸ºä½¿ç”¨fethc()ä¼šè¿”å›žä¸€ä¸ªPromise,å³ç®€åŒ–å¼‚æ­¥é£Žæ ¼çš„ä»£ç ã€‚è¿™é‡Œæœ‰æœ¨æœ‰å’ŒRxJavaå¾ˆåƒå‘€ðŸ˜€ å…¶ä»–åˆšå¼€å§‹å†™RNç³»åˆ—ï¼Œæ˜¯æƒ³åˆ†äº«ä¸‹è‡ªå·±çš„å­¦ä¹ è¿‡ç¨‹ï¼Œä½†æ˜¯å†™åˆ°è¿™é‡Œæ¸æ¸å‘çŽ°ï¼Œå¦‚æžœç»§ç»­æŒ‰ç…§æ­¤æ­¥éª¤å†™ä¸‹åŽ»ï¼Œæ„Ÿè§‰å°±æœ‰ç‚¹ä¹å–„å¯é™ˆã€‚åŒæ ·ä¸€é—¨æ–°æŠ€æœ¯çš„å­¦ä¹ ï¼Œå¿…ä¸å¯å°‘çš„æ˜¯ç»ƒä¹ ç»ƒä¹ å†ç»ƒä¹ ï¼Œä¸æ•¢ä¿è¯æ‰€æœ‰äººéƒ½æ˜¯é€šè¿‡ç»ƒä¹ æ¥å­¦ä¹ çš„ï¼Œä½†æ˜¯è‡³å°‘ç™¾åˆ†ä¹‹95çš„äººéƒ½æ˜¯è¿™æ ·çš„ã€‚æ¯•ç«Ÿï¼Œå¦‚æžœä¸€å‘³çš„çœ‹åˆ«äººçš„æ•™ç¨‹ï¼Œåœ¨å®žé™…é‡åˆ°çš„æƒ…å†µä¸‹ï¼Œå¤§éƒ¨åˆ†äººéƒ½æ˜¯å“ˆå¸Œè’™è”½ã€‚æ‰€ä»¥ï¼ŒæŽ¥ä¸‹æ¥ï¼Œæœ¬ç«™RNç³»åˆ—å‡†å¤‡å‡ºä¸€ä¸ªå®žæˆ˜çš„RNé¡¹ç›®ï¼Œä½œä¸ºæ­¤ç³»åˆ—çš„ç»ˆç« ï¼Œå¸Œæœ›å¤§å®¶æ–°æŠ€æœ¯çŽ©çš„å¼€å¿ƒï¼Œæ•¬è¯·æœŸå¾…ï¼ä¹ˆä¹ˆå“’~]]></content>
      <categories>
        <category>React Native</category>
      </categories>
      <tags>
        <tag>React Native</tag>
        <tag>webApp</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å·¥ä½œç”Ÿæ´»æ‚è®°]]></title>
    <url>%2F2017%2F05%2F17%2F%E5%B7%A5%E4%BD%9C%E7%94%9F%E6%B4%BB%E6%9D%82%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[è½¬æœ±é˜ï¼Œä½Žç»®æˆ·ï¼Œç…§æ— çœ ã€‚ä¸åº”æœ‰æ¨ï¼Œä½•äº‹é•¿å‘åˆ«æ—¶åœ†ï¼Ÿäººæœ‰æ‚²æ¬¢ç¦»åˆï¼Œæœˆæœ‰é˜´æ™´åœ†ç¼ºï¼Œæ­¤äº‹å¤éš¾å…¨ã€‚ä½†æ„¿äººé•¿ä¹…ï¼Œåƒé‡Œå…±å©µå¨Ÿã€‚ éªšå¹´ï¼Œæ˜¯ä¸æ˜¯ä»¥ä¸ºæˆ‘è¦åæ§½ï¼Œå…¶å®žåªæƒ³è¯´ä¸€å¥è¯ï¼šæ€åº¦å†³å®šé«˜åº¦ï¼Œæ ¼å±€å†³å®šç»“å±€~ å·¥ä½œç”Ÿæ´»ä¸­ï¼Œä¸€å®šè¦åŠæ—¶è°ƒæ•´è‡ªå·±çš„æ€åº¦ã€‚æ—¶åˆ»åçœï¼Œæ˜Žç¡®çš„çŸ¥é“è‡ªå·±æƒ³è¦ä»€ä¹ˆã€‚]]></content>
      <categories>
        <category>é¸¡æ±¤</category>
      </categories>
      <tags>
        <tag>åæ§½</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[React Nativeå…¥é—¨åˆ°æ€€ç–‘äººç”Ÿï¼ˆå››ï¼‰]]></title>
    <url>%2F2017%2F05%2F12%2FReact-Native%E5%85%A5%E9%97%A8%E5%88%B0%E6%80%80%E7%96%91%E4%BA%BA%E7%94%9F%EF%BC%88%E5%9B%9B%EF%BC%89%2F</url>
    <content type="text"><![CDATA[æ¬¢è¿Žæ”¶å¬React Nativeç³»åˆ—ï¼ŒåŸºäºŽWindow10,åå‘äºŽAndroidç«¯çš„React Nativeã€‚ä¸Šä¸€ç« React Nativeå…¥é—¨åˆ°æ€€ç–‘äººç”Ÿï¼ˆä¸‰ï¼‰æˆ‘ä»¬å·²ç»è®²è§£äº†RNçš„propså±žæ€§ï¼ŒstateçŠ¶æ€ï¼Œæ ·å¼ç›¸å…³çŸ¥è¯†ï¼Œé‚£ä¹ˆæœ¬ç« èŠ‚å°†è®²è§£RNçš„flexboxå¸ƒå±€ï¼ŒæŽ§ä»¶å®½é«˜ç›¸å…³çŸ¥è¯†ã€‚æœ¬ç« å°†ä½¿ç”¨ES6è¯­æ³•ã€‚æ–‡ç« ä¸å½“ä¹‹å¤„ï¼Œå¸Œæœ›å¤§å®¶ä¸åèµæ•™ï¼Œå¤šè°¢ï¼ å®½é«˜ç»„ä»¶çš„å®½é«˜ï¼Œè¿™é‡Œå¯ä»¥ç†è§£ä¸ºAndroidä¸­æŽ§ä»¶çš„å®½é«˜ï¼Œå®½å’Œé«˜å†³å®šäº†æŽ§ä»¶å¤§å°ã€‚Androidä¸­çš„å®½é«˜ä½¿ç”¨çš„å•ä½ä¸ºdpï¼ˆç‹¬ç«‹åƒç´ å¯†åº¦ï¼‰,è€ŒRNä¸­çš„å®½é«˜æ— å•ä½ã€‚è¡¨ç¤ºäº†ä¸Žè®¾å¤‡åƒç´ å¯†åº¦æ— å…³çš„é€»è¾‘åƒç´ ç‚¹ã€‚ 1234567891011121314151617/**-----width height--------****/import React, &#123;Component&#125; from 'react';import &#123;AppRegistry, Text, View&#125; from 'react-native';class FixDimensionsBasics extends Component &#123; render() &#123; return ( &lt;View&gt; &lt;View style=&#123;&#123;width: 50, height: 50, backgroundColor: 'powderblue'&#125;&#125;/&gt; &lt;View style=&#123;&#123;width: 100, height: 100, backgroundColor: 'skyblue'&#125;&#125;/&gt; &lt;View style=&#123;&#123;width: 150, height: 150, backgroundColor: 'steelblue'&#125;&#125;/&gt; &lt;/View&gt; ); &#125;&#125;AppRegistry.registerComponent('FirstRNProject', ()=&gt;FixDimensionsBasics); è¿è¡Œç»“æžœå¦‚ä¸‹å›¾ backgroundColorå‚è€ƒ https://facebook.github.io/react-native/docs/colors.html flexå¸ƒå±€flexå±žæ€§å¯å‚è€ƒandroidä¸­linearLayoutçš„layout_weightå±žæ€§ã€‚åœ¨RNç»„ä»¶ä¸­ä½¿ç”¨flexå±žæ€§ï¼Œå¯ä»¥ä½¿å…¶åœ¨å¯åˆ©ç”¨çš„ç©ºé—´ä¸­åŠ¨æ€åœ°æ‰©å¼ æˆ–æ”¶ç¼©ã€‚ ç»„ä»¶èƒ½å¤Ÿæ’‘æ»¡å‰©ä½™ç©ºé—´çš„å‰ææ˜¯å…¶çˆ¶å®¹å™¨çš„å°ºå¯¸ä¸ä¸ºé›¶ã€‚å¦‚æžœçˆ¶å®¹å™¨æ—¢æ²¡æœ‰å›ºå®šçš„widthå’Œheightï¼Œä¹Ÿæ²¡æœ‰è®¾å®šflexï¼Œåˆ™çˆ¶å®¹å™¨çš„å°ºå¯¸ä¸ºé›¶ã€‚å…¶å­ç»„ä»¶å¦‚æžœä½¿ç”¨äº†flexï¼Œä¹Ÿæ˜¯æ— æ³•æ˜¾ç¤ºçš„ã€‚ ä½¿ç”¨flexæ¥å¸ƒå±€React Nativeä¸­ä½¿ç”¨flexboxè§„åˆ™æ¥æŒ‡å®šæŸä¸ªç»„ä»¶çš„å­å…ƒç´ çš„å¸ƒå±€ã€‚Flexboxå¯ä»¥åœ¨ä¸åŒå±å¹•å°ºå¯¸ä¸Šæä¾›ä¸€è‡´çš„å¸ƒå±€ç»“æž„ã€‚é€šå¸¸ä½¿ç”¨flexDirectionï¼ŒalignItemså’ŒjustifyContentçš„ç»„åˆæ¥å®žçŽ°æ­£ç¡®çš„å¸ƒå±€ã€‚åœ¨ä½¿ç”¨flexå¸ƒå±€æ—¶å€™ï¼Œå¯é…åˆflexDirectionï¼ŒalignItemså’ŒjustifyContentä¸€èµ·æ¥å®žçŽ°æŽ§ä»¶å­å…ƒç´ çš„å¸ƒå±€ Flex Directionåœ¨ç»„ä»¶çš„styleä¸­æŒ‡å®šflexDirectionå¯ä»¥å†³å®šå¸ƒå±€çš„ä¸»è½´ã€‚å­å…ƒç´ æ˜¯åº”è¯¥æ²¿ç€æ°´å¹³è½´(row)æ–¹å‘æŽ’åˆ—ï¼Œè¿˜æ˜¯æ²¿ç€ç«–ç›´è½´(column)æ–¹å‘æŽ’åˆ—å‘¢ï¼Ÿé»˜è®¤å€¼æ˜¯ç«–ç›´è½´(column)æ–¹å‘ã€‚ 123456789101112131415161718// /**--------------ä½¿ç”¨flexboxå¸ƒå±€--------------**/import React, &#123;Component&#125; from 'react';import &#123;AppRegistry, Text, View&#125; from 'react-native';class FlexDirecitonBasics extends Component &#123; render() &#123; return ( &lt;View style=&#123;&#123;flex:1, flexDirection: 'row'&#125;&#125;&gt; &lt;View style=&#123;&#123;width: 50, backgroundColor: 'powderblue'&#125;&#125;/&gt; &lt;View style=&#123;&#123;width: 50, backgroundColor: 'skyblue'&#125;&#125;/&gt; &lt;View style=&#123;&#123;width: 50, backgroundColor: 'steelblue'&#125;&#125;/&gt; &lt;/View&gt; ); &#125;&#125;AppRegistry.registerComponent('FirstRNProject', ()=&gt; FlexDirecitonBasics); è¿è¡Œç»“æžœå¦‚ä¸‹å›¾ Justify Contentåœ¨ç»„ä»¶çš„styleä¸­æŒ‡å®šjustifyContentå¯ä»¥å†³å®šå…¶å­å…ƒç´ æ²¿ç€ä¸»è½´çš„æŽ’åˆ—æ–¹å¼ã€‚å­å…ƒç´ æ˜¯åº”è¯¥é è¿‘ä¸»è½´çš„èµ·å§‹ç«¯è¿˜æ˜¯æœ«å°¾æ®µåˆ†å¸ƒå‘¢ï¼Ÿäº¦æˆ–åº”è¯¥å‡åŒ€åˆ†å¸ƒï¼Ÿå¯¹åº”çš„è¿™äº›å¯é€‰é¡¹æœ‰ï¼šflex-startã€centerã€flex-endã€space-aroundä»¥åŠspace-betweenã€‚ 1234567891011121314151617181920212223// /**--------------ä½¿ç”¨flexboxå¸ƒå±€--------------**/import React, &#123;Component&#125; from 'react';import &#123;AppRegistry, Text, View&#125; from 'react-native';class FlexDirecitonBasics extends Component &#123; render() &#123; return ( // å°è¯•æŠŠ`justifyContent`æ”¹ä¸º`center`çœ‹çœ‹ // å°è¯•æŠŠ`flexDirection`æ”¹ä¸º`row`çœ‹çœ‹ &lt;View style=&#123;&#123; flex: 1, flexDirection: 'column', justifyContent: 'space-between', &#125;&#125;&gt; &lt;View style=&#123;&#123;width: 50, height: 50, backgroundColor: 'powderblue'&#125;&#125;/&gt; &lt;View style=&#123;&#123;width: 50, height: 50, backgroundColor: 'skyblue'&#125;&#125;/&gt; &lt;View style=&#123;&#123;width: 50, height: 50, backgroundColor: 'steelblue'&#125;&#125;/&gt; &lt;/View&gt; ); &#125;&#125;AppRegistry.registerComponent('FirstRNProject', () =&gt; FlexDirecitonBasics); è¿è¡Œç»“æžœå¦‚ä¸‹å›¾ Align Itemsåœ¨ç»„ä»¶çš„styleä¸­æŒ‡å®šalignItemså¯ä»¥å†³å®šå…¶å­å…ƒç´ æ²¿ç€æ¬¡è½´ï¼ˆä¸Žä¸»è½´åž‚ç›´çš„è½´ï¼Œæ¯”å¦‚è‹¥ä¸»è½´æ–¹å‘ä¸ºrowï¼Œåˆ™æ¬¡è½´æ–¹å‘ä¸ºcolumnï¼‰çš„æŽ’åˆ—æ–¹å¼ã€‚å­å…ƒç´ æ˜¯åº”è¯¥é è¿‘æ¬¡è½´çš„èµ·å§‹ç«¯è¿˜æ˜¯æœ«å°¾æ®µåˆ†å¸ƒå‘¢ï¼Ÿäº¦æˆ–åº”è¯¥å‡åŒ€åˆ†å¸ƒï¼Ÿå¯¹åº”çš„è¿™äº›å¯é€‰é¡¹æœ‰ï¼šflex-startã€centerã€flex-endä»¥åŠstretchã€‚ 1234567891011121314151617181920212223242526// /**--------------ä½¿ç”¨flexboxå¸ƒå±€--------------**/import React, &#123;Component&#125; from 'react';import &#123;AppRegistry, Text, View&#125; from 'react-native';class FlexDirecitonBasics extends Component &#123; render() &#123; return ( // å°è¯•æŠŠ`alignItems`æ”¹ä¸º`flex-start`çœ‹çœ‹ // å°è¯•æŠŠ`justifyContent`æ”¹ä¸º`flex-end`çœ‹çœ‹ // å°è¯•æŠŠ`flexDirection`æ”¹ä¸º`row`çœ‹çœ‹ &lt;View style=&#123;&#123; flex: 1, flexDirection: 'column', justifyContent: 'center', alignItems: 'center', &#125;&#125;&gt; &lt;View style=&#123;&#123;width: 50, height: 50, backgroundColor: 'powderblue'&#125;&#125; /&gt; &lt;View style=&#123;&#123;width: 50, height: 50, backgroundColor: 'skyblue'&#125;&#125; /&gt; &lt;View style=&#123;&#123;width: 50, height: 50, backgroundColor: 'steelblue'&#125;&#125; /&gt; &lt;/View&gt; ); &#125;&#125;AppRegistry.registerComponent('FirstRNProject', ()=&gt; FlexDirecitonBasics); è¿è¡Œç»“æžœå¦‚ä¸‹å›¾ å…³äºŽflexç›¸å…³å±žæ€§ï¼Œå¤§å®¶å¯ä»¥å¤šå¤šå°è¯•ï¼Œæ•²å‡ºä¸åŒçš„ä»£ç ï¼Œæ¥éªŒè¯æ•ˆæžœã€‚è¯»ä¸‡å·ä¹¦ï¼Œæ•²ä¸‡è¡Œä»£ç ã€‚æ¯”å¦‚å¤§å®¶å¯ä»¥å°è¯•å®žçŽ°å¦‚ä¸‹æ•ˆæžœ æ€»ç»“ 1 ç»„ä»¶çš„styleä¸­æŒ‡å®šflexDirectionå¯ä»¥å†³å®šå¸ƒå±€çš„ä¸»è½´æ²¿ç€æ°´å¹³è½´(row)æ–¹å‘æŽ’åˆ—ï¼Œè¿˜æ˜¯æ²¿ç€ç«–ç›´è½´(column)æ–¹å‘æŽ’åˆ—,é»˜è®¤å€¼æ˜¯ç«–ç›´è½´(column)æ–¹å‘ 2 ç»„ä»¶çš„styleä¸­æŒ‡å®šjustifyContentå¯ä»¥å†³å®šå…¶å­å…ƒç´ æ²¿ç€ä¸»è½´çš„æŽ’åˆ—æ–¹å¼ã€‚å…ƒç´ æ˜¯åº”è¯¥é è¿‘ä¸»è½´çš„èµ·å§‹ç«¯è¿˜æ˜¯æœ«å°¾æ®µåˆ†å¸ƒå‘¢ï¼Ÿäº¦æˆ–åº”è¯¥å‡åŒ€åˆ†å¸ƒ?flex-startã€centerã€flex-endã€space-aroundä»¥åŠspace-between 3 ç»„ä»¶çš„styleä¸­æŒ‡å®šalignItemså¯ä»¥å†³å®šå…¶å­å…ƒç´ æ²¿ç€æ¬¡è½´ï¼ˆä¸Žä¸»è½´åž‚ç›´çš„è½´ï¼Œæ¯”å¦‚è‹¥ä¸»è½´æ–¹å‘ä¸ºrowï¼Œåˆ™æ¬¡è½´æ–¹å‘ä¸ºcolumnï¼‰çš„æŽ’åˆ—æ–¹å¼ã€‚å­å…ƒç´ æ˜¯åº”è¯¥é è¿‘æ¬¡è½´çš„èµ·å§‹ç«¯è¿˜æ˜¯æœ«å°¾æ®µåˆ†å¸ƒå‘¢ï¼Ÿäº¦æˆ–åº”è¯¥å‡åŒ€åˆ†å¸ƒï¼Ÿflex-startã€centerã€flex-endä»¥åŠstretch æ–‡ç« ä¸å½“ä¹‹å¤„è¯·åŠæ—¶æŒ‡å‡ºã€‚å‘¨æœ«æœ‹å‹æ¥å—äº¬ï¼Œæ‹–æ›´å•¦~~~ ##å‚è€ƒèµ„æ–™ FaceBook.github ReactNative ä¸­æ–‡ç½‘]]></content>
      <categories>
        <category>React Native</category>
      </categories>
      <tags>
        <tag>React Native</tag>
        <tag>webApp</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Viewäº‹ä»¶åˆ†å‘çš„åæ€]]></title>
    <url>%2F2017%2F05%2F11%2FView%E4%BA%8B%E4%BB%B6%E5%88%86%E5%8F%91%E7%9A%84%E5%8F%8D%E6%80%9D%2F</url>
    <content type="text"><![CDATA[Activityçš„dispatchTouchEvent(MotionEvent ev)å’ŒonTouchEvent(MotionEvent ev)æ–¹æ³•çš„æ¥æºå¼•å‘çš„æ€è€ƒï¼Œæœ¬æ–‡ä¸ä¾§é‡äºŽè®²è§£Viewäº‹ä»¶çš„åˆ†å‘æœºåˆ¶ï¼ä¸å½“ä¹‹å¤„ï¼Œè¯·åŠæ—¶æŒ‡å‡ºï¼Œè°¢è°¢ã€‚ é—®é¢˜ åœ¨Activity overrideçš„æ–¹æ³•ä¸­ï¼Œå­˜åœ¨çš„onTouchEvent(MotionEvent ev)å’ŒdispatchTouchEvent(MotionEvent ev)æ¥æºæ˜¯å“ªé‡Œï¼Ÿ Viewäº‹ä»¶åˆ†å‘æœºåˆ¶å›žé¡¾Androidç•Œé¢æ˜¯æœ‰Viewå’ŒViewGroupæž„æˆçš„ã€‚æ­£å¦‚å¤§å®¶æ‰€äº†è§£çš„ä¸€æ ·ï¼šViewå’ŒViewGroupçš„äº‹ä»¶åˆ†å‘æœºåˆ¶æœ‰éƒ¨åˆ†çš„å·®åˆ«ã€‚ äº‹ä»¶åºåˆ—æ˜¯æŒ‡ä»Žæ‰‹æŒ‡è§¦ç¢°å±å¹•çš„é‚£ä¸€åˆ»èµ·ï¼Œåˆ°æ‰‹æŒ‡ç¦»å¼€å±å¹•é‚£ä¸€åˆ»ç»“æŸï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­äº§ç”Ÿçš„ä¸€ç³»åˆ—äº‹ä»¶ï¼Œä»¥downäº‹ä»¶å¼€å§‹ï¼Œä¸­é—´å«æœ‰æ•°é‡ä¸å®šçš„moveäº‹ä»¶ï¼Œæœ€ç»ˆä»¥upäº‹ä»¶ç»“æŸã€‚ dispatchTouchEvent(MotionEvent ev)ç”¨æ¥è¿›è¡Œäº‹ä»¶çš„åˆ†å‘ï¼Œå¦‚æžœæ—¶é—´ä¼ é€’åˆ°å½“å‰çš„Viewï¼Œé‚£ä¹ˆæ­¤æ–¹æ³•ä¸€å®šä¼šè¢«è°ƒç”¨ï¼Œè¿”å›žçš„ç»“æžœå—å½“å‰Viewçš„onTouchEventå’Œä¸‹çº§viewçš„dispatchTouchEventæ–¹æ³•å½±å“ã€‚ onInterceptTouchEvent(MotionEvent ev)Viewæ²¡æœ‰æ­¤æ–¹æ³•ï¼Œæ‰€ä»¥ä¸€æ—¦æœ‰ç‚¹å‡»äº‹ä»¶ä¼ é€’ç»™å®ƒï¼Œé‚£ä¹ˆå®ƒçš„OnTouchEventæ–¹æ³•å°±ä¼šè¢«è°ƒç”¨ã€‚ViewGroupä¸­ï¼Œåœ¨æŽ¥æ”¶åˆ°dispatchTouchEventåŽï¼Œåœ¨å…¶å†…éƒ¨ä¼šè°ƒç”¨æ­¤æ–¹æ³•ï¼Œç”¨æ¥åˆ¤æ–­æ˜¯å¦æ‹¦æˆªå½“å‰äº‹ä»¶ï¼Œå¦‚æžœæ‹¦æˆªï¼Œé‚£ä¹ˆåœ¨åŒä¸€ä¸ªäº‹ä»¶åºåˆ—ä¸­ï¼Œæ­¤æ–¹æ³•ä¸ä¼šè¢«è°ƒç”¨ã€‚ onTouchEvent(MotionEvent ev)åœ¨dispatchTouchEventæ–¹æ³•ä¸­è°ƒç”¨ï¼Œç”¨æ¥å¤„ç†ç‚¹å‡»äº‹ä»¶ï¼Œè¿”å›žç»“æžœè¡¨ç¤ºæ˜¯å¦æ¶ˆè€—å½“å‰äº‹ä»¶ï¼Œå¦‚æžœä¸æ¶ˆè€—ï¼Œåˆ™æ— æ³•zå†æ¬¡æŽ¥å—å½“å‰äº‹ä»¶åºåˆ—ã€‚ è§£å†³é—®é¢˜æ­£å¦‚äº†è§£åˆ°çš„äº‹ä»¶å‘ç”Ÿé¦–å…ˆä¼ é€’ç»™å½“å‰çš„Activityï¼Œç”±Activityçš„dispatchTouchEvent,æ¥è¿›è¡Œåˆ†å‘ã€‚é‚£ä¹ˆæˆ‘ä»¬æ¥æŸ¥çœ‹Actvityä¸­çš„dispatchTouchEventæ–¹æ³•ï¼ŒActivityæºç å¦‚ä¸‹å›¾: é€šè¿‡æºç æŸ¥çœ‹å‘çŽ°ï¼ŒActivityè°ƒç”¨çš„æ˜¯Windowä¸­çš„dispatchTouchEventæ–¹æ³•ã€‚æŽ¥ç€æŸ¥æ‰¾OnTouchEvent é€è¿‡æºç é—®é¢˜1çš„ç­”æ¡ˆï¼Œæ˜¾è€Œæ˜“è§äº†ï¼Œactivityçš„onTouchEventå’ŒdispatchTouchEventæ¥æºä¸Žwindowã€‚ é‚£ä¹ˆwindowåˆæ˜¯å¦‚ä½•å¤„ç†çš„å‘¢ï¼Ÿ é€šè¿‡æºç æˆ‘ä»¬å‘çŽ°windowæ˜¯æŠ½è±¡ç±»ï¼ŒåŒæ—¶ä»–çš„superDispatchTouchEventä¹Ÿæ˜¯æŠ½è±¡æ–¹æ³•ï¼Œå¦‚å›¾ é‚£ä¹ˆæˆ‘ä»¬å°±éœ€è¦æ‰¾åˆ°ä»–çš„å®žçŽ°ç±»ï¼Œé€šè¿‡æŸ¥çœ‹Windowæºç å‘çŽ°ï¼Œå®ƒåªæœ‰ä¸€ä¸ªå®žçŽ°ç±»ä¸ºPhoneWindow,å¦‚å›¾ å…¶å®žwindowæ˜¯é€šè¿‡Viewçš„å½¢å¼å±•çŽ°çš„ï¼Œä¸€ä¸ªwindowå¯¹åº”è¿™ä¸€ä¸ªViewå’ŒViewRootImpl,å¦‚æžœæœ‰å…´è¶£å¯ä»¥æŸ¥çœ‹æºç ï¼Œè¿™é‡Œä¸åšå™è¿°ï¼Œæ”¶ã€‚ æŽ¥ç€ä¸Šé¢æˆ‘ä»¬æŸ¥æ‰¾PhoneWindowä¸­çš„superDispatchTouchEventæ–¹æ³•å¦‚å›¾ å‘çŽ°PhoneWindowè°ƒç”¨çš„æ˜¯mDecorï¼Œå³DecorView.ä¹Ÿå°±æ˜¯è¯´PhoneWindowå°†äº‹ä»¶ç›´æŽ¥ä¼ é€’ç»™äº†DecorView,é‚£ä¹ˆæˆ‘ä»¬æŽ¥ç€äº†è§£ä¸‹DecorView é€šè¿‡æºç å‘çŽ°DecorViewä¸ºé¡¶çº§Viewå³ç•Œé¢çš„æ ¹å¸ƒå±€ï¼ŒåŒæ—¶ç”±äºŽDecorViewç»§æ‰¿è‡ªFrameLayout,è€Œä¸”æ˜¯æ ¹å¸ƒå±€ï¼Œæ‰€ä»¥æœ€ç»ˆçš„äº‹ä»¶ä¼šåˆ†å‘åˆ°ç•Œé¢ä¸­çš„æ ¹å¸ƒå±€(DecorView)ï¼Œç„¶åŽç”±æ ¹å¸ƒå±€å‘æˆ‘ä»¬æ·»åŠ çš„Viewåˆ†å‘ï¼Œè‡³æ­¤ï¼ŒTouchäº‹ä»¶å®Œç¾Žçš„åˆ†å‘ä¸‹åŽ»äº†ã€‚ æœ€åŽï¼šæœ¬æ–‡ä¸ä¾§é‡ä¸ŽæŽ¢è®¨Viewäº‹ä»¶çš„åˆ†å‘æœºåˆ¶ã€‚æ—¨åœ¨åˆ†äº«é‡åˆ°é—®é¢˜æ—¶çš„è§£å†³æ–¹æ¡ˆã€‚That`s All! æ–‡ç« è‹¥æœ‰ä¸å½“ä¹‹å¤„ï¼Œè¯·åŠæ—¶æŒ‡å‡ºï¼Œè°¢è°¢ï¼]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>äº‹ä»¶åˆ†å‘</tag>
        <tag>ViewTouch</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[React Nativeå…¥é—¨åˆ°æ€€ç–‘äººç”Ÿï¼ˆä¸‰ï¼‰]]></title>
    <url>%2F2017%2F05%2F09%2FReact-Native%E5%85%A5%E9%97%A8%E5%88%B0%E6%80%80%E7%96%91%E4%BA%BA%E7%94%9F%EF%BC%88%E4%B8%89%EF%BC%89%2F</url>
    <content type="text"><![CDATA[æ¬¢è¿Žæ”¶å¬React Nativeç³»åˆ—ï¼ŒåŸºäºŽWindow10,åå‘äºŽAndroidç«¯çš„React Nativeã€‚ä¸Šä¸€ç« React Nativeå…¥é—¨åˆ°æ€€ç–‘äººç”Ÿï¼ˆäºŒï¼‰æˆ‘ä»¬å·²ç»æˆåŠŸè¿è¡Œäº†å®˜æ–¹Demoï¼Œä»‹ç»äº†React.jsã€ES6ç›¸å…³å­¦ä¹ èµ„æ–™ï¼ŒæŽ¨èäº†å¼€å‘RNçš„ç¼–è¾‘å™¨ï¼Œé‚£ä¹ˆæœ¬ç« èŠ‚å°†è®²è§£RNçš„propså±žæ€§ï¼ŒstateçŠ¶æ€ï¼Œæ ·å¼ç›¸å…³çŸ¥è¯†ã€‚æœ¬ç« å°†ä½¿ç”¨ES6è¯­æ³•ã€‚è¯·å„ä½ç³»å¥½å®‰å…¨å¸¦ï¼Œæœ¬ç« èŠ‚æˆ‘ä»¬å°†çœŸæ­£å¼€å§‹RNçš„å¼€å‘ã€‚å˜€ï¼è€å¹´å¡ã€‚æ–‡ç« ä¸å½“ä¹‹å¤„ï¼Œå¸Œæœ›å¤§å®¶ä¸åèµæ•™ï¼Œå¤šè°¢ï¼ å‡†å¤‡å·¥ä½œ æ–°å»ºä¸€ä¸ªreact Projectï¼Œç”¨äºŽæˆ‘ä»¬æœ¬ç« å†…å®¹è®²è§£note:react-native init &quot;ProjectName&quot; webstormå®‰è£…RNæç¤ºæ’ä»¶ ä½¿ç”¨webstormæ‰“å¼€ï¼Œ Propsï¼ˆå±žæ€§ï¼‰è®²è§£ç»„ä»¶ï¼ˆå¯ä»¥ç†è§£ä¸ºAndroidçš„æŽ§ä»¶ï¼‰åœ¨åˆ›å»ºçš„æ—¶å€™ï¼Œæˆ‘ä»¬éƒ½ä¼šèµ‹äºˆç›¸åº”çš„å‚æ•°ï¼Œè¿™äº›å‚æ•°å°±ç›¸å½“äºŽprops(å±žæ€§)ï¼Œè¿˜æ˜¯ä¸Šä»£ç å§ï¼Œä»£ç ç†è§£èµ·æ¥ç®€å•ç‚¹ã€‚ 12345678910111213141516171819202122232425/* *-------------props-------------**/import React, &#123;Component&#125; from 'react';/** * ES6è¯­æ³•ï¼Œç­‰ä»·ä¸ŽES5ä¸­çš„ * var AppRegistry = require('./AppRegistry'); */import &#123;AppRegistry, Image&#125; from 'react-native';class HelloReact extends Component &#123; render() &#123; let pic = &#123; uri: 'https://upload.wikimedia.org/wikipedia/commons/d/de/Bananavarieties.jpg' &#125;; /** * sourceå°±æ˜¯å®šä¹‰çš„å±žæ€§åç§°ï¼ŒåŒæ—¶é€šè¿‡å®šä¹‰çš„picå˜é‡ç»™å®ƒèµ‹å€¼ï¼ŒæŽ§åˆ¶å±•ç¤ºçš„å›¾ç‰‡èµ„æº * é€šè¿‡styleçš„propsæ¥æŽ§åˆ¶å›¾ç‰‡çš„å°ºå¯¸ */ return( &lt;Image source= &#123;pic&#125; style = &#123;&#123;width : 500 , height: 500&#125;&#125;/&gt; ); &#125;&#125;AppRegistry.registerComponent('FirstRNProject', () =&gt; HelloReact); ä»£ç ä¸­å·²æ·»åŠ æ³¨é‡Š ä»£ç ä¸­çš„{ { pic } }æ˜¯JSXè¯­æ³•,JSXè¯­æ³•çš„åŸºæœ¬è§„åˆ™å¦‚ä¸‹ 1 é‡åˆ° HTML æ ‡ç­¾ï¼ˆä»¥ &lt; å¼€å¤´ï¼‰ï¼Œå°±ç”¨ HTML è§„åˆ™è§£æžï¼›é‡åˆ°ä»£ç å—ï¼ˆä»¥ { å¼€å¤´ï¼‰ï¼Œå°±ç”¨ JavaScript è§„åˆ™è§£æž 2 JSX å…è®¸ç›´æŽ¥åœ¨æ¨¡æ¿æ’å…¥ JavaScript å˜é‡ã€‚å¦‚æžœè¿™ä¸ªå˜é‡æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œåˆ™ä¼šå±•å¼€è¿™ä¸ªæ•°ç»„çš„æ‰€æœ‰æˆå‘˜ 3 ç»„ä»¶ç±»çš„PropTypeså±žæ€§ï¼Œå°±æ˜¯ç”¨æ¥éªŒè¯ç»„ä»¶å®žä¾‹çš„å±žæ€§æ˜¯å¦ç¬¦åˆè¦æ±‚(å¯ä»¥äº†è§£ä¸‹) ä»£ç ä¸­çš„ import {AppRegistry, Image} from &#39;react-native&#39;ä¸ºES6è¯­æ³•ç­‰ä»·ä¸ŽES5ä¸­çš„var AppRegistry = require(&#39;./AppRegistry&#39;) ä»£ç ä¸­registerComponent()æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°&#39;FirstRNProject&#39;å¿…é¡»å’Œandroid\app\src\main\java\com\firstrnproject\MainActivityç±»ä¸­çš„getMainComponentName()æ–¹æ³•è¿”å›žçš„Stringä¿æŒä¸€è‡´ stateï¼ˆçŠ¶æ€ï¼‰è®²è§£ æˆ‘ä»¬ä½¿ç”¨ä¸¤ç§æ•°æ®æ¥æŽ§åˆ¶ä¸€ä¸ªç»„ä»¶ï¼špropså’Œstateã€‚propsæ˜¯åœ¨çˆ¶ç»„ä»¶ä¸­æŒ‡å®šï¼Œè€Œä¸”ä¸€ç»æŒ‡å®šï¼Œåœ¨è¢«æŒ‡å®šçš„ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸä¸­åˆ™ä¸å†æ”¹å˜ã€‚ å¯¹äºŽéœ€è¦æ”¹å˜çš„æ•°æ®ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨stateã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œä½ éœ€è¦åœ¨constructorä¸­åˆå§‹åŒ–stateï¼ˆè¯‘æ³¨ï¼šè¿™æ˜¯ES6çš„å†™æ³•ï¼Œæ—©æœŸçš„å¾ˆå¤šES5çš„ä¾‹å­ä½¿ç”¨çš„æ˜¯getInitialStateæ–¹æ³•æ¥åˆå§‹åŒ–stateï¼Œè¿™ä¸€åšæ³•ä¼šé€æ¸è¢«æ·˜æ±°ï¼‰ï¼Œç„¶åŽåœ¨éœ€è¦ä¿®æ”¹æ—¶è°ƒç”¨setStateæ–¹æ³•ã€‚ å‡å¦‚æˆ‘ä»¬éœ€è¦åˆ¶ä½œä¸€æ®µä¸åœé—ªçƒçš„æ–‡å­—ã€‚æ–‡å­—å†…å®¹æœ¬èº«åœ¨ç»„ä»¶åˆ›å»ºæ—¶å°±å·²ç»æŒ‡å®šå¥½äº†ï¼Œæ‰€ä»¥æ–‡å­—å†…å®¹åº”è¯¥æ˜¯ä¸€ä¸ªpropã€‚è€Œæ–‡å­—çš„æ˜¾ç¤ºæˆ–éšè—çš„çŠ¶æ€ï¼ˆå¿«é€Ÿçš„æ˜¾éšåˆ‡æ¢å°±äº§ç”Ÿäº†é—ªçƒçš„æ•ˆæžœï¼‰åˆ™æ˜¯éšç€æ—¶é—´å˜åŒ–çš„ï¼Œå› æ­¤è¿™ä¸€çŠ¶æ€åº”è¯¥å†™åˆ°stateä¸­ã€‚ æ‘˜è‡ªReactNativeä¸­æ–‡ç½‘ï¼Œè¿™æ®µè¯å¯¹stateçš„æè¿°éžå¸¸é€å½»ã€‚è¿™é‡Œè¡¥å……ä¸€ç‚¹getInitialStateæ–¹æ³•åœ¨å¾ˆå¤šçŽ°æœ‰çš„åº“ä¸­å‘çŽ°æ­¤ç±»å†™æ³•ï¼Œå…¶å®žå°±æ˜¯å¯¹stateè¿›è¡Œèµ‹å€¼çš„ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344/**---------------- state------------**/import React, &#123;Component&#125; from 'react';import &#123;AppRegistry, Text, View&#125; from 'react-native';class Blink extends Component &#123; constructor(props) &#123; super(props); //åˆå§‹åŒ–çŠ¶æ€å€¼ this.state = &#123; showText : true&#125;; //å¼€å¯å®šæ—¶ä»»åŠ¡ï¼Œéš”1så–åçŠ¶æ€å€¼ setInterval(() =&gt; &#123; this.setState(previousState =&gt; &#123; return &#123;showText:!previousState.showText&#125;; &#125;) &#125;, 1000); &#125; render() &#123; let display = this.state.showText? this.props.text:''; return ( // æ ¹æ®å½“å‰showTextçš„å€¼å†³å®šæ˜¯å¦æ˜¾ç¤ºtextå†…å®¹ï¼Œå¸ƒå±€ä¼šæ ¹æ®å±žæ€§å€¼è‡ªåŠ¨é‡æ–°æ¸²æŸ“text &lt;Text&gt;&#123;display&#125;&lt;/Text&gt; ); &#125;;&#125;class BlinkApp extends Component&#123; render() &#123; return( &lt;View&gt; &lt;Blink text = 'I Love You'/&gt; &lt;Blink text = 'I Love You'/&gt; &lt;Blink text = 'I Love You'/&gt; &lt;Blink text = 'I Love You'/&gt; &lt;/View&gt; ); &#125;&#125;AppRegistry.registerComponent('FirstRNProject', () =&gt; BlinkApp); ä»£ç ä¸­çš„=&gt;ç®­å¤´å‡½æ•°ä¸ºES6è¯­æ³•å¯å‚è€ƒä¸‹é¢ä»£ç 1234567891011121314151617// ES5 var selected = allJobs.filter(function (job) &#123; return job.isSelected(); &#125;); // ES6 var selected = allJobs.filter(job =&gt; job.isSelected()); ~~~~~~/ ES5 $("#btn").click(function (event) &#123; dosomeing.... &#125;); // ES6 $("#btn").click(event =&gt; &#123; dosomeing....&#125;); ðŸ˜‚ä¸ä¼šå½•gif,åŽæœŸè¡¥å…… æ ·å¼ åœ¨React Nativeä¸­ï¼Œä½ å¹¶ä¸éœ€è¦å­¦ä¹ ä»€ä¹ˆç‰¹æ®Šçš„è¯­æ³•æ¥å®šä¹‰æ ·å¼ã€‚æˆ‘ä»¬ä»ç„¶æ˜¯ä½¿ç”¨JavaScriptæ¥å†™æ ·å¼ã€‚æ‰€æœ‰çš„æ ¸å¿ƒç»„ä»¶éƒ½æŽ¥å—åä¸ºstyleçš„å±žæ€§ã€‚è¿™äº›æ ·å¼ååŸºæœ¬ä¸Šæ˜¯éµå¾ªäº†webä¸Šçš„CSSçš„å‘½åï¼Œåªæ˜¯æŒ‰ç…§JSçš„è¯­æ³•è¦æ±‚ä½¿ç”¨äº†é©¼å³°å‘½åæ³•ï¼Œä¾‹å¦‚å°†background-coloræ”¹ä¸ºbackgroundColorã€‚ styleå±žæ€§å¯ä»¥æ˜¯ä¸€ä¸ªæ™®é€šçš„JavaScriptå¯¹è±¡ã€‚è¿™æ˜¯æœ€ç®€å•çš„ç”¨æ³•ï¼Œå› è€Œåœ¨ç¤ºä¾‹ä»£ç ä¸­å¾ˆå¸¸è§ã€‚ä½ è¿˜å¯ä»¥ä¼ å…¥ä¸€ä¸ªæ•°ç»„â€”â€”åœ¨æ•°ç»„ä¸­ä½ç½®å±…åŽçš„æ ·å¼å¯¹è±¡æ¯”å±…å‰çš„ä¼˜å…ˆçº§æ›´é«˜ï¼Œè¿™æ ·ä½ å¯ä»¥é—´æŽ¥å®žçŽ°æ ·å¼çš„ç»§æ‰¿ã€‚ å®žé™…å¼€å‘ä¸­ç»„ä»¶çš„æ ·å¼ä¼šè¶Šæ¥è¶Šå¤æ‚ï¼Œæˆ‘ä»¬å»ºè®®ä½¿ç”¨StyleSheet.createæ¥é›†ä¸­å®šä¹‰ç»„ä»¶çš„æ ·å¼ã€‚æ¯”å¦‚åƒä¸‹é¢è¿™æ · 1234567891011121314151617181920212223242526272829/****--------------------style-------------**/import React, &#123;Component&#125; from 'react';import &#123;AppRegistry, StyleSheet, Text, View&#125; from 'react-native';class LostOfStyles extends Component &#123; render() &#123; return( &lt;View&gt; &lt;Text style=&#123;style.bigblue&#125;&gt;bigblue&lt;/Text&gt; &lt;Text style=&#123;style.red&#125;&gt;red&lt;/Text&gt; &lt;Text style=&#123;[style.red, style.bigblue]&#125;&gt;red, then bigblue&lt;/Text&gt; &lt;Text style=&#123;[style.bigblue, style.red]&#125;&gt;bigblue, then red&lt;/Text&gt; &lt;/View&gt; ); &#125;&#125;//æŒ‰é¡ºåºå£°æ˜Žå’Œä½¿ç”¨styleå±žæ€§const style = StyleSheet.create(&#123; bigblue: &#123; color: 'blue', fontWeight: 'bold', fontSize: 30, &#125;, red: &#123; color:'red', &#125;,&#125;);AppRegistry.registerComponent('FirstRNProject', ()=&gt; LostOfStyles); æ ·å¼åŸºæœ¬ä½¿ç”¨å’ŒJavaScripté‡Œé¢çš„ä½¿ç”¨ä¸€æ ·ï¼Œæš‚æ—¶ä¸åšèµ˜è¿°ã€‚ ##å‚è€ƒèµ„æ–™ FaceBook.github ReactNative ä¸­æ–‡ç½‘]]></content>
      <categories>
        <category>React Native</category>
      </categories>
      <tags>
        <tag>React Native</tag>
        <tag>webApp</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Androidå†…å­˜ä¼˜åŒ–]]></title>
    <url>%2F2017%2F05%2F09%2FAndroid%E5%86%85%E5%AD%98%E4%BC%98%E5%8C%96%2F</url>
    <content type="text"><![CDATA[æœ¬ç« å‚è€ƒgoogleå®˜æ–¹æ–‡æ¡£ï¼Œæ€»ç»“äº†androidå¼€å‘è¿‡ç¨‹ä¸­å†…å­˜ä¼˜åŒ–çš„æ–¹æ³•ï¼ŒåŒæ—¶ï¼Œç»“åˆå®žé™…å¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°çš„OOMï¼Œæ€»ç»“äº†éƒ¨åˆ†ç»éªŒã€‚ä¸å½“ä¹‹å¤„ï¼Œè¯·éšæ—¶æå‡ºã€‚ Random-access memory (RAM) is a valuable resource in any software development environment,but itâ€™s even more valuable on a mobile operating system where physical memory is often constrained.Although both the Android Runtime (ART) and Dalvik virtual machine perform routine garbage collection,this does not mean you can ignore when and where your app allocates and releases memory éšæœºå­˜å–å­˜å‚¨å™¨ï¼ˆRAMï¼‰æ˜¯ä»»ä½•è½¯ä»¶å¼€å‘çŽ¯å¢ƒä¸­çš„å®è´µèµ„æºï¼Œä½†åœ¨ç‰©ç†å†…å­˜é€šå¸¸å—é™åˆ¶çš„ç§»åŠ¨æ“ä½œç³»ç»Ÿä¸Šæ›´ä¸ºæœ‰ä»·å€¼ã€‚å°½ç®¡Android Runtimeï¼ˆARTï¼‰å’ŒDalvikè™šæ‹Ÿæœºéƒ½æ‰§è¡Œå¸¸è§„åžƒåœ¾æ”¶é›†ï¼Œä½†è¿™å¹¶ä¸æ„å‘³ç€æ‚¨å¯ä»¥å¿½ç•¥åº”ç”¨ç¨‹åºåˆ†é…å’Œé‡Šæ”¾å†…å­˜çš„æ—¶é—´å’Œä½ç½® æŸ¥çœ‹å†…å­˜ä½¿ç”¨æƒ…å†µ 1 ä½¿ç”¨android studioè‡ªå¸¦çš„ Memory MonitoræŸ¥çœ‹è¯¥å·¥å…·æ˜¾ç¤ºå¯ç”¨å’Œåˆ†é…çš„Javaå†…å­˜éšæ—¶é—´çš„å›¾ï¼ŒåŒ…æ‹¬åžƒåœ¾å›žæ”¶äº‹ä»¶ 2 ä½¿ç”¨android studioè‡ªå¸¦çš„allocation Tracker tool åˆ†é…è·Ÿè¸ªå™¨è®°å½•åº”ç”¨ç¨‹åºçš„å†…å­˜åˆ†é…ï¼Œå¹¶åˆ—å‡ºåˆ†æžå¿«ç…§ä¸­çš„æ‰€æœ‰å·²åˆ†é…å¯¹è±¡ã€‚æ‚¨å¯ä»¥ä½¿ç”¨æ­¤å·¥å…·æ¥è·Ÿè¸ªåˆ†é…å¤ªå¤šå¯¹è±¡çš„éƒ¨åˆ†ä»£ç  ä¼˜åŒ–å†…å­˜çš„æ–¹æ¡ˆ1 ä½¿ç”¨onTrimMemoryåœ¨åº”ç”¨UIéšè—æ—¶é‡Šæ”¾UIèµ„æºæ¥é‡Šæ”¾å†…å­˜è¯·æ³¨æ„ï¼šè¿™ä¸ªçŽ©æ„ä¸åŒäºŽonStopï¼Œä½ çš„åº”ç”¨ä»…ä»…ä¼šåœ¨æ‰€æœ‰UIç»„ä»¶çš„è¢«éšè—çš„æ—¶å€™æŽ¥æ”¶åˆ°onTrimMemory()çš„å›žè°ƒå¹¶å¸¦æœ‰å‚æ•°TRIM_MEMORY_UI_HIDDENã€‚è¿™ä¸ŽonStop()çš„å›žè°ƒæ˜¯ä¸åŒçš„ï¼ŒonStopä¼šåœ¨activityçš„å®žä¾‹éšè—æ—¶ä¼šæ‰§è¡Œï¼Œ ä¾‹å¦‚å½“ç”¨æˆ·ä»Žä½ çš„appçš„æŸä¸ªactivityè·³è½¬åˆ°å¦å¤–ä¸€ä¸ªactivityæ—¶å‰é¢activityçš„onStop()ä¼šè¢«æ‰§è¡Œã€‚å› æ­¤ä½ åº”è¯¥å®žçŽ°onStopå›žè°ƒï¼Œå¹¶ä¸”åœ¨æ­¤å›žè°ƒé‡Œé¢é‡Šæ”¾activityçš„èµ„æºï¼Œä¾‹å¦‚é‡Šæ”¾ç½‘ç»œè¿žæŽ¥ï¼Œæ³¨é”€ç›‘å¬å¹¿æ’­æŽ¥æ”¶è€…ã€‚é™¤éžæŽ¥æ”¶åˆ°onTrimMemory(TRIM_MEMORY_UI_HIDDEN))çš„å›žè°ƒï¼Œå¦è€…ä½ ä¸åº”è¯¥é‡Šæ”¾ä½ çš„UIèµ„æºã€‚è¿™ç¡®ä¿äº†ç”¨æˆ·ä»Žå…¶ä»–activityåˆ‡å›žæ¥æ—¶ï¼Œä½ çš„UIèµ„æºä»ç„¶å¯ç”¨ï¼Œå¹¶ä¸”å¯ä»¥è¿…é€Ÿæ¢å¤activityã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182import android.content.ComponentCallbacks2;// Other import statements ...public class MainActivity extends AppCompatActivity implements ComponentCallbacks2 &#123; // Other activity code ... /** * Release memory when the UI becomes hidden or when system resources become low. * @param level the memory-related event that was raised. */ public void onTrimMemory(int level) &#123; // Determine which lifecycle or system event was raised. switch (level) &#123; case ComponentCallbacks2.TRIM_MEMORY_UI_HIDDEN: /* Release any UI objects that currently hold memory. The user interface has moved to the background. */ break; //ä½ çš„appæ­£åœ¨è¿è¡Œå¹¶ä¸”ä¸ä¼šè¢«åˆ—ä¸ºå¯æ€æ­»çš„ã€‚ä½†æ˜¯è®¾å¤‡æ­¤æ—¶æ­£è¿è¡ŒäºŽä½Žå†…å­˜çŠ¶æ€ä¸‹ï¼Œç³»ç»Ÿå¼€å§‹è§¦å‘æ€æ­»LRU Cacheä¸­çš„Processçš„æœºåˆ¶ case ComponentCallbacks2.TRIM_MEMORY_RUNNING_MODERATE: break; //ä½ çš„appæ­£åœ¨è¿è¡Œä¸”æ²¡æœ‰è¢«åˆ—ä¸ºå¯æ€æ­»çš„ã€‚ä½†æ˜¯è®¾å¤‡æ­£è¿è¡ŒäºŽæ›´ä½Žå†…å­˜çš„çŠ¶æ€ä¸‹ï¼Œä½ åº”è¯¥é‡Šæ”¾ä¸ç”¨çš„èµ„æºç”¨æ¥æå‡ç³»ç»Ÿæ€§èƒ½ï¼ˆä½†æ˜¯è¿™ä¹Ÿä¼šç›´æŽ¥å½±å“åˆ°ä½ çš„appçš„æ€§èƒ½ï¼‰ã€‚ case ComponentCallbacks2.TRIM_MEMORY_RUNNING_LOW: break; //ä½ çš„appä»åœ¨è¿è¡Œï¼Œä½†æ˜¯ç³»ç»Ÿå·²ç»æŠŠLRU Cacheä¸­çš„å¤§å¤šæ•°è¿›ç¨‹éƒ½å·²ç»æ€æ­»ï¼Œå› æ­¤ä½ åº”è¯¥ç«‹å³é‡Šæ”¾æ‰€æœ‰éžå¿…é¡»çš„èµ„æºã€‚å¦‚æžœç³»ç»Ÿä¸èƒ½å›žæ”¶åˆ°è¶³å¤Ÿçš„RAMæ•°é‡ï¼Œ //ç³»ç»Ÿå°†ä¼šæ¸…é™¤æ‰€æœ‰çš„LRUç¼“å­˜ä¸­çš„è¿›ç¨‹ï¼Œå¹¶ä¸”å¼€å§‹æ€æ­»é‚£äº›ä¹‹å‰è¢«è®¤ä¸ºä¸åº”è¯¥æ€æ­»çš„è¿›ç¨‹ï¼Œä¾‹å¦‚é‚£ä¸ªåŒ…å«äº†ä¸€ä¸ªè¿è¡Œæ€Serviceçš„è¿›ç¨‹ã€‚ case ComponentCallbacks2.TRIM_MEMORY_RUNNING_CRITICAL: /* Release any memory that your app doesn't need to run. The device is running low on memory while the app is running. The event raised indicates the severity of the memory-related event. If the event is TRIM_MEMORY_RUNNING_CRITICAL, then the system will begin killing background processes. */ break; //ç³»ç»Ÿæ­£è¿è¡ŒäºŽä½Žå†…å­˜çŠ¶æ€å¹¶ä¸”ä½ çš„è¿›ç¨‹æ­£å¤„äºŽLRUç¼“å­˜åå•ä¸­æœ€ä¸å®¹æ˜“æ€æŽ‰çš„ä½ç½®ã€‚å°½ç®¡ä½ çš„appè¿›ç¨‹å¹¶ä¸ æ˜¯å¤„äºŽè¢«æ€æŽ‰çš„é«˜å±é™©çŠ¶æ€ï¼Œ //ç³»ç»Ÿå¯èƒ½å·²ç»å¼€å§‹æ€æŽ‰LRUç¼“å­˜ä¸­çš„å…¶ä»–è¿›ç¨‹äº†ã€‚ä½ åº”è¯¥é‡Šæ”¾é‚£äº›å®¹æ˜“æ¢å¤çš„èµ„æºï¼Œä»¥ä¾¿äºŽä½ çš„è¿›ç¨‹å¯ä»¥ä¿ç•™ä¸‹æ¥ï¼Œè¿™æ ·å½“ç”¨æˆ·å›žé€€åˆ°ä½ çš„appçš„æ—¶å€™æ‰èƒ½å¤Ÿè¿…é€Ÿæ¢å¤ã€‚ case ComponentCallbacks2.TRIM_MEMORY_BACKGROUND: break; //ç³»ç»Ÿæ­£è¿è¡ŒäºŽä½Žå†…å­˜çŠ¶æ€å¹¶ä¸”ä½ çš„è¿›ç¨‹å·²ç»å·²ç»æŽ¥è¿‘LRUåå•çš„ä¸­éƒ¨ä½ç½®ã€‚å¦‚æžœç³»ç»Ÿå¼€å§‹å˜å¾—æ›´åŠ å†…å­˜ç´§å¼ ï¼Œä½ çš„è¿›ç¨‹æ˜¯æœ‰å¯èƒ½è¢«æ€æ­»çš„ case ComponentCallbacks2.TRIM_MEMORY_MODERATE: break; //ç³»ç»Ÿæ­£è¿è¡Œä¸Žä½Žå†…å­˜çš„çŠ¶æ€å¹¶ä¸”ä½ çš„è¿›ç¨‹æ­£å¤„äºŽLRUåå•ä¸­æœ€å®¹æ˜“è¢«æ€æŽ‰çš„ä½ç½®ã€‚ä½ åº”è¯¥é‡Šæ”¾ä»»ä½•ä¸å½±å“ä½ çš„appæ¢å¤çŠ¶æ€çš„èµ„æº case ComponentCallbacks2.TRIM_MEMORY_COMPLETE: /* Release as much memory as the process can. The app is on the LRU list and the system is running low on memory. The event raised indicates where the app sits within the LRU list. If the event is TRIM_MEMORY_COMPLETE, the process will be one of the first to be terminated. */ break; default: /* Release any non-critical data structures. The app received an unrecognized memory level value from the system. Treat this as a generic low-memory message. */ break; &#125; &#125;&#125; è¿™ä¸ªå›žè°ƒæ”¯æŒAPI14ä»¥ä¸Šï¼Œè¦å…¼å®¹14ä»¥ä¸‹å¯ä»¥ä½¿ç”¨ onLowMemory() 2 è°¨æ…Žä½¿ç”¨services,å¯ä»¥é€‰æ‹©intentservice ä»£æ›¿service å®ƒä¼šåœ¨å¤„ç†å®Œäº¤ä»£ç»™å®ƒçš„intentä»»åŠ¡ä¹‹åŽå°½å¿«ç»“æŸè‡ªå·± 3 ä½¿ç”¨ArrayMap/SparseArrayä»£æ›¿hashmapç­‰ä¼ ç»Ÿæ•°æ®ç»“æž„4 æ³¨æ„ä»£ç æŠ½è±¡ï¼Œå°‘ç”¨enumæŠ½è±¡çš„ä»£ä»·æ˜¯å·¨å¤§çš„ï¼šä¸€èˆ¬æ¥è¯´ï¼Œå®ƒä»¬éœ€è¦æ›´å¤šçš„ä»£ç éœ€è¦æ‰§è¡Œï¼Œéœ€è¦æ›´å¤šçš„æ—¶é—´å’Œæ›´å¤šçš„RAMæ‰èƒ½å°†è¯¥ä»£ç æ˜ å°„åˆ°å†…å­˜ä¸­ For example, enums often require more than twice as much memory as static constants. You should strictly avoid using enums on Android 5 è°¨æ…Žä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ï¼Œç§»é™¤å†…å­˜ä½¿ç”¨å¤§çš„åº“å’Œèµ„æºæ–‡ä»¶ ä½ çš„ä»£ç ä¸­çš„ä¸€äº›èµ„æºå’Œåº“å¯ä»¥åœ¨ä¸çŸ¥é“çš„æƒ…å†µä¸‹æ¶ˆé™¤å†…å­˜ã€‚ æ‚¨çš„APKçš„æ€»ä½“å°ºå¯¸ï¼ˆåŒ…æ‹¬ç¬¬ä¸‰æ–¹åº“æˆ–åµŒå…¥å¼èµ„æºï¼‰å¯èƒ½ä¼šå½±å“åº”ç”¨ç¨‹åºæ¶ˆè€—å¤šå°‘å†…å­˜ã€‚ æ‚¨å¯ä»¥é€šè¿‡ä»Žä»£ç ä¸­åˆ é™¤ä»»ä½•å†—ä½™çš„ï¼Œä¸å¿…è¦çš„æˆ–è†¨èƒ€çš„ç»„ä»¶ï¼Œèµ„æºæˆ–åº“æ¥æé«˜åº”ç”¨ç¨‹åºçš„å†…å­˜æ¶ˆè€— 6 å‡å°APkå¤§å° æ‚¨å¯ä»¥é€šè¿‡å‡å°‘åº”ç”¨ç¨‹åºçš„æ€»ä½“å¤§å°æ¥æ˜¾ç€é™ä½Žåº”ç”¨ç¨‹åºçš„å†…å­˜ä½¿ç”¨é‡ã€‚ ä½å›¾å¤§å°ï¼Œèµ„æºï¼ŒåŠ¨ç”»æ¡†æž¶å’Œç¬¬ä¸‰æ–¹åº“éƒ½å¯ä»¥å¸®åŠ©æ‚¨çš„APKçš„å¤§å°ã€‚ Android Studioå’ŒAndroid SDKæä¾›å¤šç§å·¥å…·æ¥å¸®åŠ©æ‚¨å‡å°‘èµ„æºå’Œå¤–éƒ¨ä¾èµ–å…³ç³»çš„å¤§å° example Reduce APK Size 7 å¦‚æžœé¡¹ç›®å¿…é¡»éœ€è¦ç”¨åˆ°ä¾èµ–æ³¨å…¥æ¡†æž¶ï¼ŒæŽ¨èä½¿ç”¨Dragger2(å®˜æ–¹æŽ¨è) Daggerä¸ä½¿ç”¨åå°„æ¥æ‰«ææ‚¨çš„åº”ç”¨ç¨‹åºçš„ä»£ç ã€‚ Daggerçš„é™æ€ç¼–è¯‘æ—¶å®žçŽ°æ„å‘³ç€å®ƒå¯ä»¥åœ¨Androidåº”ç”¨ç¨‹åºä¸­ä½¿ç”¨ï¼Œè€Œæ— éœ€è¿è¡Œæ—¶è´¹ç”¨æˆ–å†…å­˜ä½¿ç”¨ã€‚ 8 ä½¿ç”¨LeakCanaryå¼€æºæŽ§ä»¶ï¼Œå¯ä»¥å¾ˆå¥½çš„å¸®åŠ©æˆ‘ä»¬å‘çŽ°å†…å­˜æ³„éœ²çš„æƒ…å†µ å…·ä½“çš„ä½¿ç”¨è¯·æŸ¥çœ‹å®˜æ–¹Githubæˆ–è€…ä¸­æ–‡èµ„æ–™ å½“ç„¶è¿˜å¯ä»¥ä½¿ç”¨MAT ä»¥ä¸Šå‚è€ƒè‡ªandroidå®˜æ–¹æ€§èƒ½ä¼˜åŒ–èµ„æ–™ æ€»ç»“ LeakCanaryå€¼å¾—æŽ¨èï¼Œç”¨äºŽç›‘å¬é¡¹ç›®ä¸­çš„å†…å­˜æ³„éœ²ã€‚ç›‘å¬ä¼šå‘çŽ°é™¤äº†å®˜æ–¹SDKä¸­çš„æ–¹æ³•å¯¼è‡´çš„å†…å­˜æ³„éœ²å¤–ï¼Œå¤§éƒ¨åˆ†éƒ½æ˜¯é™æ€å˜é‡çš„å¼•ç”¨æœªåŠæ—¶é”€æ¯å¯¼è‡´çš„ã€‚ åŠ è½½å¤§å›¾ï¼ŒåŠæ˜“äº§ç”ŸOOMã€‚å› æ­¤åœ¨åŠ è½½å›¾ç‰‡çš„æ—¶å€™ï¼Œéœ€è¦æˆ‘ä»¬å¯¹å›¾ç‰‡è¿›è¡ŒåŽ‹ç¼©å¤„ç†ï¼ˆå›¾ç‰‡çš„å¤§å°ï¼Œè´¨é‡åŽ‹ç¼©ï¼‰ï¼Œé€‰æ‹©åˆé€‚å°ºå¯¸çš„å›¾ç‰‡è¿›è¡ŒåŠ è½½ã€‚åŒæ—¶ï¼Œéœ€è¦åŠæ—¶recycleä¸´æ—¶å›¾ç‰‡ã€‚ å‡å°‘ä¸å¿…è¦çš„å…¨å±€å˜é‡ï¼ˆå®˜æ–¹æ–‡æ¡£ç»™å‡ºäº†åŒæ ·çš„å»ºè®®ï¼‰ï¼Œé¿å…é™æ€å˜é‡å¼•ç”¨æ¶ˆè€—æ›´å¤šçš„èµ„æºã€‚ å‡å°‘æžšä¸¾ç±»åž‹çš„ä½¿ç”¨ã€‚ åœ¨ä½¿ç”¨SQLiteæ—¶åŠæ—¶é”€æ¯cursorã€‚ ä»¥ä¸Šä¸ºé¡¹ç›®ä¸­é‡åˆ°çš„å†…å­˜ä¼˜åŒ–æ–¹æ¡ˆï¼Œå…¶ä»–æ–¹æ¡ˆè‹¥æœ‰é—æ¼ä¼šåŠæ—¶è¡¥å……ã€‚ æ’ä¸€å¥ï¼šè™½ç„¶çŽ°åœ¨æ‰‹æœºå†…å­˜æ…¢æ…¢åœ¨å˜å¤§ï¼Œå¿…è¦çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç©ºé—´æ¢æ—¶é—´ï¼Œä½†æ˜¯åœ¨è‡ªå·±èƒ½åŠ›èŒƒå›´å†…ï¼Œä¸æ–­çš„ä¼˜åŒ–å†…å­˜ä½¿ç”¨ï¼Œåº”è¯¥ç®—æ˜¯æˆ‘ä»¬çš„èŒä¸šé“å¾·å§ðŸ‘ã€‚ è™½ç„¶æˆ‘çŽ°åœ¨æ˜¯æ¸£æ¸£ï¼Œä½†æ˜¯äº”å¹´åŽå‘¢ï¼Ÿå˜»å˜»]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>å†…å­˜</tag>
        <tag>ä¼˜åŒ–</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[React Nativeå…¥é—¨åˆ°æ€€ç–‘äººç”Ÿï¼ˆäºŒï¼‰]]></title>
    <url>%2F2017%2F05%2F08%2FReact-Native%E5%85%A5%E9%97%A8%E5%88%B0%E6%80%80%E7%96%91%E4%BA%BA%E7%94%9F%EF%BC%88%E4%BA%8C%EF%BC%89%2F</url>
    <content type="text"><![CDATA[æ¬¢è¿Žæ”¶å¬React Nativeç³»åˆ—ï¼ŒåŸºäºŽWindow10,åå‘äºŽAndroidç«¯çš„React Nativeã€‚ä¸Šä¸€ç« React Nativeå…¥é—¨åˆ°æ€€ç–‘äººç”Ÿï¼ˆä¸€ï¼‰æˆ‘ä»¬å·²ç»æˆåŠŸå°†RNé…ç½®çŽ¯å¢ƒæ­å»ºå®Œæˆï¼Œæœ¬ç« èŠ‚å°†è®²è§£å¦‚ä½•ä¸‹è½½å¹¶è¿è¡ŒFBæä¾›çš„å®˜æ–¹Demoï¼ŒReact.jså­¦ä¹ ï¼ŒES6è¯­æ³•ç›¸å…³å­¦ä¹ ï¼Œä»¥åŠå¼€å‘RNçš„ç¼–è¾‘å™¨æŽ¨èã€‚è¯·å„ä½ç³»å¥½å®‰å…¨å¸¦ï¼Œæœ¬ç« èŠ‚è¿‡åŽæˆ‘ä»¬å°†çœŸæ­£å¼€å§‹RNçš„å¼€å‘ã€‚å˜€ï¼è€å¹´å¡ã€‚æ–‡ç« ä¸å½“ä¹‹å¤„ï¼Œå¸Œæœ›å¤§å®¶ä¸åèµæ•™ï¼Œå¤šè°¢ï¼ å®˜æ–¹Demoçš„ä¸‹è½½å’Œè¿è¡Œ1 ä¸‹è½½RNæºç è‹¥å·²ç»å®‰è£…è¿‡é¡¹ç›®æºç ï¼ˆåªè¦ä½ é…ç½®è¿‡RNçŽ¯å¢ƒåŸºæœ¬ä¸Šéƒ½å·²ç»å…‹éš†è¿‡æºç ï¼Œè¿™é‡Œåªæ˜¯æ¼”ç¤ºå…‹éš†æ­¥éª¤ï¼‰å¯è·³è¿‡æ­¤æ­¥éª¤ï¼Œç›´æŽ¥è¿›å…¥é¡¹ç›®æ ¹ç›®å½•è¾“å…¥npm installåœ¨å½“å‰æ–‡ä»¶å¤¹å®‰è£…é¡¹ç›®ä¾èµ–ï¼Œç„¶åŽè·³è¿‡æ­¤æ­¥éª¤ é€‰æ‹©éœ€è¦å®‰è£…çš„ç›®å½•ï¼Œæ–°å»ºæ–‡ä»¶å¤¹ï¼Œè¿›å…¥æ–‡ä»¶å¤¹ï¼Œç‚¹å‡»å³é”®åœ¨å¼¹å‡ºç•Œé¢ä¸­ç‚¹å‡»Git Bash Hellæ‰“å¼€Gitå‘½ä»¤è¡Œï¼Œè¾“å…¥git clone https://github.com/facebook/react-native.gitï¼Œç­‰å¾…ä¸‹è½½ã€‚ , å®‰è£…å®ŒæˆåŽï¼Œç•Œé¢ç›®å½•å¦‚å›¾ã€‚ . æŽ¥ç€ï¼Œåœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥cd react-native &amp;&amp; npm installã€‚ç­‰å¾…å®‰è£…é¡¹ç›®ä¾èµ–ã€‚ 2 è¿è¡ŒAndroid ExampleNote that youâ€™ll need the Android NDK installed, see prerequisites. å¦‚ä¸Šæ‰€è¿°ï¼Œåœ¨è¿è¡ŒAndroidé¡¹ç›®ä¹‹å‰ï¼Œä½ éœ€è¦å®‰è£…Android NDK,å¹¶ä¸”é…ç½®NDKçŽ¯å¢ƒå˜é‡ã€‚ Make sure you have the following installed: Android SDK version 23 (compileSdkVersion in build.gradle) SDK build tools version 23.0.1 (buildToolsVersion in build.gradle) Android Support Repository &gt;= 17 (for Android Support Library) Android NDK (download links and installation instructions below) å…¶å®žä¸Šè¿°æˆ‘ä»¬éœ€è¦å…³æ³¨çš„åªæ˜¯Android NDKï¼ŒRNDemoä¾èµ–çš„ç‰ˆæœ¬ä¸ºAndroid NDK, Revision 10e (May 2015).ç‚¹å‡»ä¸‹è½½ç›¸åº”çš„NDKç‰ˆæœ¬ã€‚ï¼ˆä¸éœ€è¦ç¿»å¢™~.~!ï¼‰. é…å›¾åªæ˜¯æƒ³è¡¨è¾¾ä¸‹æˆ‘çš„ç½‘é€ŸðŸ˜ä¸‹è½½å®Œæˆä¹‹åŽï¼Œé€‰æ‹©éœ€è¦è§£åŽ‹çš„ç›®å½•ï¼Œæˆ‘è¿™è¾¹æ”¾åœ¨sdkç›®å½•ä¸‹å¦‚å›¾ï¼Œå½“å‰ä½ å¯ä»¥éšæ„ è§£åŽ‹ä¹‹åŽï¼Œè®°å¾—è¦å°†NDKæ·»åŠ åˆ°çŽ¯å¢ƒå˜é‡ä¸­,å¦‚ï¼šï¼ˆANDROID_NDK =&gt; D:\sdk\android-ndk-r10e; Path =&gt; %ADNROID_NDK%ï¼‰ ä¿®æ”¹çŽ¯å¢ƒå˜é‡åŽï¼Œè¯·é‡æ–°æ‰“å¼€å‘½ä»¤è¡Œï¼Œæ‰èƒ½ç”Ÿæ•ˆ è‡³æ­¤é…ç½®åŸºæœ¬å®Œæˆï¼Œä¸‹é¢æ‰“å¼€ä½ çš„é¥­ç¢—ã€‚ã€‚ã€‚ä½ ï¼Œå°±æ˜¯è¯´ä½ çš„ï¼Œæ˜¯è®©ä½ æ‰“å¼€ä½ çš„androidæ¨¡æ‹Ÿå™¨ï¼ˆæˆ–è€…çœŸæœºï¼‰ï¼Œä½ æ‹¿ä¸ªåƒé¥­çš„ç¢—å¹²å˜›ï¼ åœ¨é¡¹ç›®æ ¹ç›®å½•ï¼ˆE:\RNDemo\react-nativeï¼‰æ‰“å¼€gitï¼Œè¾“å…¥./gradlew :Examples:UIExplorer:android:app:installDebugï¼Œç­‰å¾…å®‰è£…ã€‚ï¼ˆéœ€è¦ç¿»ä¸‹å¢™ï¼Œç¿»å¢™å§¿åŠ¿è¯·å‚è€ƒä¸Šä¸€ç« React Nativeå…¥é—¨åˆ°æ€€ç–‘äººç”Ÿï¼ˆä¸€ï¼‰ï¼‰å®‰è£…å®ŒæˆåŽä½ ä¼šå‘çŽ°åœ¨æ‰‹æœºä¸ŠUIExplore Appå·²æˆåŠŸå®‰è£…å¦‚å›¾ã€‚ ä½†æ˜¯è¿™ä¸ªæ—¶å€™å¦‚æžœç‚¹å‡»appæ‰“å¼€ä¼šæŠ¥é”™å¦‚å›¾ è¿™ä¸ªæ—¶å€™æˆ‘ä»¬éœ€è¦è¾“å…¥./packager/packager.shï¼Œå¯åŠ¨packger server,ç„¶åŽåœ¨çœŸæœºæˆ–æ¨¡æ‹Ÿå™¨ä¸Šæ‰“å¼€æˆ‘ä»¬çš„åº”ç”¨ã€‚æˆåŠŸå¯åŠ¨ç•Œé¢å¦‚å›¾ Demoä¸­å±•ç¤ºæœ‰RNçš„åŸºæœ¬ç»„ä»¶å¯ä»¥ç‚¹å‡»æµè§ˆã€‚å¯ä»¥ç‚¹å‡»æŸ¥çœ‹ï¼Œå½“ç„¶å¯ä»¥åœ¨æºç ä¸­æ‰¾åˆ°ç›¸åº”çš„æŽ§ä»¶å­¦ä¹ ä¸‹ï¼Œè¿™å°±æ˜¯æŽ¥ä¸‹æ¥çš„ç³»åˆ—æ•™ç¨‹å°†ä¼šè®²è§£çš„ç›¸å…³æŽ§ä»¶ã€‚ RNç¼–è¾‘å™¨æŽ¨è Nuclideæ˜¯Facebookå†…éƒ¨æ‰€ä½¿ç”¨çš„React Nativeå¼€å‘å·¥å…·ã€‚å®ƒæœ€å¤§çš„ç‰¹ç‚¹æ˜¯è‡ªå¸¦è°ƒè¯•åŠŸèƒ½ï¼Œå¹¶ä¸”éžå¸¸å¥½åœ°æ”¯æŒflowè¯­æ³•è§„åˆ™ã€‚ï¼ˆè¯‘æ³¨ï¼šç„¶è€Œæˆ‘ä»¬è¿˜æ˜¯æŽ¨èwebstormæˆ–æ˜¯sublime textï¼‰ã€‚ Igniteæ˜¯ä¸€å¥—æ•´åˆäº†Reduxä»¥åŠä¸€äº›å¸¸è§UIç»„ä»¶çš„è„šæ‰‹æž¶ã€‚å®ƒå¸¦æœ‰ä¸€ä¸ªå‘½ä»¤è¡Œå¯ä»¥ç”Ÿæˆappã€ç»„ä»¶æˆ–æ˜¯å®¹å™¨ã€‚å¦‚æžœä½ å–œæ¬¢å®ƒçš„é€‰æ‹©æ­é…ï¼Œé‚£ä¹ˆä¸å¦¨ä¸€è¯•ã€‚ CodePushæ˜¯ç”±å¾®è½¯æä¾›çš„çƒ­æ›´æ–°æœåŠ¡ã€‚çƒ­æ›´æ–°å¯ä»¥ä½¿ä½ ç»•è¿‡AppStoreçš„å®¡æ ¸æœºåˆ¶ï¼Œç›´æŽ¥ä¿®æ”¹å·²ç»ä¸Šæž¶çš„åº”ç”¨ã€‚å¯¹äºŽå›½å†…ç”¨æˆ·ï¼Œæˆ‘ä»¬ä¹ŸæŽ¨èç”±æœ¬ç½‘ç«™æä¾›çš„Pushyçƒ­æ›´æ–°æœåŠ¡ï¼Œç›¸æ¯”CodePushæ¥è¯´ï¼Œæä¾›äº†å…¨ä¸­æ–‡çš„æ–‡æ¡£å’ŒæŠ€æœ¯æ”¯æŒï¼ŒæœåŠ¡å™¨éƒ¨ç½²åœ¨å›½å†…é€Ÿåº¦æ›´å¿«ï¼Œè¿˜æä¾›äº†å…¨è‡ªåŠ¨çš„å·®é‡æ›´æ–°æ–¹å¼ï¼Œå¤§å¹…èŠ‚çº¦æ›´æ–°æµé‡ï¼Œæ¬¢è¿Žæœ‹å‹ä»¬è¯•ç”¨å’Œåé¦ˆæ„è§ï¼ Exponentæ˜¯ä¸€å¥—å¼€å‘çŽ¯å¢ƒï¼Œè¿˜å¸¦æœ‰ä¸€ä¸ªå·²ä¸Šæž¶çš„ç©ºåº”ç”¨å®¹å™¨ã€‚è¿™æ ·ä½ å¯ä»¥åœ¨æ²¡æœ‰åŽŸç”Ÿå¼€å‘å¹³å°ï¼ˆXcodeæˆ–æ˜¯Android Studioï¼‰çš„æƒ…å†µä¸‹ç›´æŽ¥ç¼–å†™React Nativeåº”ç”¨ï¼ˆå½“ç„¶è¿™æ ·ä½ åªèƒ½å†™jséƒ¨åˆ†ä»£ç è€Œæ²¡æ³•å†™åŽŸç”Ÿä»£ç ï¼‰ã€‚ Decoæ˜¯ä¸€ä¸ªä¸“ä¸ºReact Nativeè®¾è®¡çš„é›†æˆå¼€å‘çŽ¯å¢ƒã€‚å®ƒå¯ä»¥è‡ªåŠ¨åˆ›å»ºæ–°é¡¹ç›®ã€æœç´¢å¼€æºç»„ä»¶å¹¶æ’å…¥åˆ°é¡¹ç›®ä¸­ã€‚ä½ è¿˜å¯ä»¥å®žæ—¶åœ°å¯è§†åŒ–åœ°è°ƒæ•´åº”ç”¨çš„ç•Œé¢ã€‚ä¸è¿‡ç›®å‰è¿˜åªæ”¯æŒmacã€‚ ç”±äºŽwin10ç³»ç»Ÿæ‰€ä»¥è¿™é‡Œé€‰æ‹©çš„å¼€å‘å·¥å…·ä¸ºwebstormã€‚ webstormå¼€å‘å·¥å…·ç¼–è¾‘RNä»£ç æç¤ºåŠŸèƒ½å¯æŒ‰ç…§ä¸‹åˆ—æ­¥éª¤ 1 è¿›å…¥ä½ æƒ³å­˜å‚¨è¿™ä¸ªæ–‡ä»¶çš„ç›®å½•ï¼ŒæŒ‰ä½shift+é¼ æ ‡å³é”®ï¼Œé€‰æ‹©â€œåœ¨æ­¤å¤„æ‰“å¼€å‘½ä»¤çª—å£â€ 2 åœ¨å‘½ä»¤çª—å£ä¸­è¾“å…¥ git clone https://github.com/virtoolswebplayer/ReactNative-LiveTemplate 3 æ‰“å¼€webstormï¼Œ é€‰æ‹©fileâ€“&gt;Import Settingsâ€¦â€“&gt;åœ¨åˆšåˆšä¸‹è½½çš„æ–‡ä»¶å¤¹é‡Œæ‰¾åˆ°ReactNative.jaré€‰æ‹©å®ƒâ€“&gt;OK 4 æç¤ºé‡å¯webstromï¼Œé‡å¯ï¼Œæžå®š RNä½¿ç”¨ES6è¯­æ³•ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¼€å¯webstormå¯¹ES6è¯­æ³•çš„æ”¯æŒï¼Œæ­¥éª¤å¦‚ä¸‹ 1 æˆ‘ä»¬ä¸€å®šè¦ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„11.0.3 webstormï¼Œåªæœ‰è¿™ä¸ªç‰ˆæœ¬æ‰èƒ½æ›´å¥½çš„å…¼å®¹ES6ç‰¹æ€§ã€‚ 2 è®¾ç½®JavaScriptè¯­è¨€ç‰ˆæœ¬ï¼šPreferences &gt; Languages &amp; Frameworks &gt; JavaScript Rect.jså­¦ä¹ æŽ¨èé˜®ä¸€å³°è€å¸ˆçš„react.jså¿«é€Ÿå…¥é—¨æ•™ç¨‹ã€‚Rect.jsä¸å†å±•å¼€è®²è§£ï¼ŒåŽé¢è¯¾ç¨‹ä¼šç©¿æ’è®²è§£éƒ¨åˆ† ES6è¯­æ³•åŒæ ·çš„ï¼ŒæŽ¨èé˜®ä¸€å³°è€å¸ˆçš„ES6æ•™ç¨‹ã€‚ES6ä¸å†å±•å¼€è®²è§£ï¼ŒåŽé¢è¯¾ç¨‹ä¼šç©¿æ’è®²è§£éƒ¨åˆ† å…¶ä»–èµ„æ–™ If you have a good command of English,Then you can look at other people carefully sorted out the list of resources å½“ç„¶è¿˜æœ‰ä¸­æ–‡çš„å‚è€ƒèµ„æ–™ æ„Ÿè°¢githubðŸ‘ï¼Œé¡ºä¾¿ç»™å¤§å®¶çœ‹ä¸€åœºæ’•é€¼å¤§æˆ˜ðŸ˜Ž ##å‚è€ƒèµ„æ–™ FaceBook.github ReactNative ä¸­æ–‡ç½‘]]></content>
      <categories>
        <category>React Native</category>
      </categories>
      <tags>
        <tag>React Native</tag>
        <tag>webApp</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[React Nativeå…¥é—¨åˆ°æ€€ç–‘äººç”Ÿï¼ˆä¸€ï¼‰]]></title>
    <url>%2F2017%2F05%2F07%2FReact-Native%E5%85%A5%E9%97%A8%E5%88%B0%E6%80%80%E7%96%91%E4%BA%BA%E7%94%9F%EF%BC%88%E4%B8%80%EF%BC%89%2F</url>
    <content type="text"><![CDATA[æ¬¢è¿Žæ”¶å¬React Nativeç³»åˆ—ï¼ŒåŸºäºŽWindow10,åå‘äºŽAndroidç«¯çš„React Nativeã€‚ä»Žå…¥é—¨åˆ°æ€€ç–‘äººç”Ÿï¼Œå¯¹ï¼æ²¡é”™æ€€ç–‘äººç”Ÿå°±æ˜¯æˆ‘çŽ°åœ¨çš„çŠ¶æ€ðŸ˜‡ã€‚æ–‡ç« ä¸å½“ä¹‹å¤„ï¼Œå¸Œæœ›å¤§å®¶ä¸åèµæ•™ï¼Œå¤šè°¢ï¼ Windowsç‰ˆæœ¬React NativeçŽ¯å¢ƒé…ç½®1 å®‰è£…JDkä¸‹è½½jdk1.8ä»¥ä¸Šç‰ˆæœ¬ï¼Œå®‰è£…å¹¶é…ç½®ç›¸åº”çŽ¯å¢ƒå˜é‡.éªŒè¯æ˜¯å¦æ­£ç¡®å®‰è£…æ‰“å¼€å‘½ä»¤è¡Œï¼Œè¾“å…¥java -versionéªŒè¯. 2 å®‰è£…Android Studioandroid stuido,è‹¥åˆæ¬¡ä¸‹è½½ï¼Œå¯é€‰æ‹©åŒ…å«Android SDKçš„ä¸‹è½½ç‰ˆæœ¬ã€‚ 3 é…ç½®SDKçŽ¯å¢ƒå˜é‡æ‰¾åˆ°SDKçš„å®‰è£…ç›®å½•ï¼Œè®¾ç½®sdkçŽ¯å¢ƒå˜é‡,å¹¶å°†å…¶åŠ å…¥çŽ¯å¢ƒå˜é‡PATHä¸­ï¼Œä¾‹å¦‚ï¼ˆANDROID_HOME=&gt; E:\Android\sdkï¼‰ï¼ˆPATH=&gt; %ANDROID_HOME%\tools;%ANDROID_HOME%\platform-toolsï¼‰ã€‚ 4 è®¾ç½®SDkæ‰“å¼€androidåœ¨SDK Platformsçª—å£ä¸­ï¼Œé€‰æ‹©Show Package Detailsï¼Œç„¶åŽ åœ¨Android 6.0 (Marshmallow)ä¸­å‹¾é€‰Google APIsã€Android SDK Platform 23ã€Intel x86 Atom System Imageã€Intel x86 Atom_64 System Imageä»¥åŠGoogle APIs Intel x86 Atom_64 System Imageã€‚ åœ¨SDK Toolsçª—å£ä¸­ï¼Œé€‰æ‹©Show Package Detailsï¼Œç„¶åŽåœ¨Android SDK Build Toolsä¸­å‹¾é€‰Android SDK Build-Tools 23.0.1ï¼ˆå¿…é¡»æ˜¯è¿™ä¸ªç‰ˆæœ¬ï¼‰ã€‚ç„¶åŽè¿˜è¦å‹¾é€‰æœ€åº•éƒ¨çš„Android Support Repository. 5 å®‰è£…Githttps://git-for-windows.github.io/ç‰ˆæœ¬æŽ§åˆ¶å·¥å…·ï¼Œä¸‹é¢æ­¥éª¤ç›´æŽ¥å¯ä»¥ä½¿ç”¨gitä¸‹è½½ç›¸åº”é…ç½®æ–‡ä»¶ 6 å®‰è£…nodeReact Nativeè¿è¡Œæ˜¯åŸºäºŽnode.js,æ‰€ä»¥è¯·ä¸‹è½½nodeå®‰è£…å®Œæˆä¹‹åŽï¼ŒéªŒè¯æ˜¯å¦æ­£å¸¸å®‰è£…ï¼Œå¯æ‰“å¼€å‘½ä»¤è¡Œè¾“å…¥node -véªŒè¯ 7 å…‹éš†é¡¹ç›®å¹¶å®‰è£…å‘½ä»¤è¡Œå·¥å…·react-native-clié€‰æ‹©éœ€è¦å®‰è£…çš„ç›®å½•ï¼Œæ–°å»ºæ–‡ä»¶å¤¹,è¿›å…¥æ–‡ä»¶å¤¹ç‚¹å‡»å³é”®ï¼Œåœ¨å¼¹å‡ºç•Œé¢ä¸­ç‚¹å‡»Git Bash Hellæ‰“å¼€Gitå‘½ä»¤è¡Œ,è¾“å…¥git clone https://github.com/facebook/react-native.gitï¼Œç­‰å¾…ä¸‹è½½ å®‰è£…æˆåŠŸåŽç•Œé¢æ–‡ä»¶ç›®å½•å¦‚å›¾ è¾“å…¥npm install -g react-native-cli å®‰è£…å‘½ä»¤è¡Œå·¥å…· è¿›å…¥åˆšåˆšç›®å½•ä¸‹çš„react-nativeç›®å½•ä¸‹çš„react-native-cliç›®å½•ï¼Œè¾“å…¥npm install -g(å¯ä»¥ä½¿ç”¨Git Bush Hellå‘½ä»¤è¡Œï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨CMD)å…¨å±€å®‰è£…è„šæ‰‹æž¶å·¥å…· 8 åˆ›å»ºç¬¬ä¸€ä¸ªRNé¡¹ç›®é€‰æ‹©éœ€è¦å®‰è£…çš„ç›®å½•ï¼Œè¾“å…¥react-native init FirstRNProjectï¼Œç­‰å¾…ä¸€æ®µæ—¶é—´ï¼Œå®‰è£…æˆåŠŸç›®å½•å¦‚ä¸‹ 9 è¿è¡ŒRNé¡¹ç›®éœ€è¦çš„æœåŠ¡åœ¨æ–°åˆ›å»ºçš„é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œè¾“å…¥react-native startï¼ˆå¯ä½¿ç”¨Git,ä¹Ÿå¯ä½¿ç”¨CMDï¼‰å¯åŠ¨æˆåŠŸåŽï¼Œå¯ä»¥ç”¨æµè§ˆå™¨è®¿é—®[](http://localhost:8081/index.android.bundle?platform=android)ï¼Œå¦‚æžœå¯ä»¥è®¿é—®è¡¨ç¤ºæœåŠ¡å™¨ç«¯å·²ç»å¯ä»¥äº†. 10 è¿è¡Œé¡¹ç›®å‰æï¼šéœ€è¦æœ‰è®¾å¤‡è¿žæŽ¥åœ¨ç”µè„‘æˆ–æ‰“å¼€æ¨¡æ‹Ÿå™¨ï¼ˆä½¿ç”¨genymotionçš„è¯ï¼Œéœ€è¦zåœ¨è®¾ç½®ä¸­ä¿®æ”¹SDKä¸ºandroid sdkï¼‰ é‡æ–°æ‰“å¼€å‘½ä»¤è¡Œï¼ˆGitæˆ–CMDï¼‰,å®šä½åˆ°æ–°åˆ›å»ºçš„é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œè¾“å…¥react-native run-androidï¼ˆå¦‚æžœæŠ¥é”™è¯·æ£€æŸ¥AndoridçŽ¯å¢ƒå˜é‡ã€Android SDKçš„è®¾ç½®æ˜¯å¦æŒ‰ç…§æœ¬æ–‡ä¸Šæ–¹çš„SDKè®¾ç½®ï¼Œå…¨éƒ¨æ·»åŠ ï¼‰ å¦‚æžœæ¨¡æ‹Ÿå™¨æˆ–çœŸæœºå‡ºçŽ°çº¢è‰²æŠ¥é”™ç•Œé¢ï¼Œå¯è¿›å…¥Devå¼€å‘è€…é€‰é¡¹ï¼ˆCtrl+Mæˆ–è€…èœå•é”®ï¼Œåœ¨å¼¹å‡ºæ¡†ä¸­é€‰æ‹©Dev Seting,ä¸‹å›¾ä¸­ä½ç½®ï¼Œåœ¨å¯¹è¯æ¡†ä¸­è¾“å…¥æœ¬åœ°IP+æœåŠ¡ç«¯å£å·ï¼Œä¾‹å¦‚ï¼š192.168.1.66ï¼š8081ï¼Œipä¸ºæˆ‘æœ¬æœºçš„Ip ç«¯å£å¯æŸ¥çœ‹react-native startå‘½ä»¤çª—å£çš„ç«¯å£å·ï¼Œé»˜è®¤ä¸º8081ï¼‰ è‡³æ­¤ï¼ŒRNçš„çŽ¯å¢ƒé…ç½®åŠåˆ›å»ºè¿è¡Œç¬¬ä¸€ä¸ªé¡¹ç›®å·²å…¨éƒ¨å®Œæˆã€‚ æˆåŠŸè¿è¡Œçš„ç•Œé¢å¦‚ä¸‹ æ„Ÿè§‰æ²¡æœ‰å†™ä»€ä¹ˆä¸œè¥¿ðŸ¤¸ðŸ¤¸ðŸ¤¸ ç»“æŸå¥½å§ å¦‚æžœä¸Šè¿°æ­¥éª¤éœ€è¦ç¿»å¢™çš„è¯ï¼ŒæŽ¨èä½¿ç”¨latern,æˆ–è€…ä¿®æ”¹Hostè€åˆ€Hostæåˆ°Hostå°±è¦æ„Ÿè°¢ä¸‹èƒ–å”å”æ•™ä¼šçš„ç¿»å¢™å§¿åŠ¿ðŸ˜œ æœ‰ç–‘é—®æ¬¢è¿Žç•™è¨€ã€‚ ##å‚è€ƒèµ„æ–™ FaceBook.github ReactNative ä¸­æ–‡ç½‘]]></content>
      <categories>
        <category>React Native</category>
      </categories>
      <tags>
        <tag>React Native</tag>
        <tag>webApp</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç§»åŠ¨webç›¸å…³æŠ€æœ¯æµ…æž]]></title>
    <url>%2F2017%2F05%2F06%2F%E7%A7%BB%E5%8A%A8web%E7%9B%B8%E5%85%B3%E6%8A%80%E6%9C%AF%E6%B5%85%E6%9E%90%2F</url>
    <content type="text"><![CDATA[æœ€è¿‘é¢„ç ”äº†è®¸å¤šwebAppç›¸å…³çŸ¥è¯†ï¼ŒåŒ…æ‹¬H5+ï¼Œmui,react nativeç›¸å…³çŸ¥è¯†ï¼Œè§‰å¾—æœ‰å¿…è¦å†™ä¸‹éƒ¨åˆ†æ„Ÿæ‚Ÿï¼Œå› æ­¤è¯žç”Ÿäº†æ­¤ç¯‡æ–‡ç« ï¼Œä¸è¶³ä¹‹å¤„ï¼Œè¯·å¤§å®¶åŠæ—¶æŒ‡å‡ºï¼Œå¸Œæœ›èƒ½å¯¹æœ‰åŒæ ·éœ€æ±‚çš„ä½ å¸¦æ¥å¸®åŠ©. ä½¿ç”¨å‰ç«¯å¼€å‘appæ–¹æ³• é€‚åº”ç§»åŠ¨ç«¯çš„ç½‘é¡µbootstrapã€amazeuiã€eg. ä½¿ç”¨html5+jss+css+æ‰“åŒ…æŠ€æœ¯å¼€å‘Cordovaï¼ˆphoneGapï¼‰ è¿™ä¸ªçŽ©æ„æ¯”è¾ƒé‡é‡çº§,ä¸è¿‡åç¼–å‘çŽ°è¿˜æ˜¯æœ‰éƒ¨åˆ†appæ˜¯è¿™ç§å¼€å‘æ¨¡å¼çš„Hbuilderï¼ˆä¸€ç§ç¼–è¯‘å·¥å…· æä¾›æœ‰appçš„å¼€å‘API html5+ ä»¥åŠUIæ¡†æž¶ muiï¼‰ React Native Weex webApp vs hybirdApp vs nativeAppNative Appçš„ä¼˜åŠ¿ æä¾›æœ€ä½³çš„ç”¨æˆ·ä½“éªŒï¼Œæœ€ä¼˜è´¨çš„ç”¨æˆ·ç•Œé¢ï¼Œæœ€åŽä¸½çš„äº¤äº’ é’ˆå¯¹ä¸åŒå¹³å°æä¾›ä¸åŒä½“éªŒ å¯èŠ‚çœå¸¦å®½æˆæœ¬ å¯è®¿é—®æœ¬åœ°èµ„æº ç›ˆåˆ©æ¨¡å¼æ˜Žæœ— Native Appçš„åŠ£åŠ¿ ç§»æ¤åˆ°ä¸åŒå¹³å°ä¸Šæ¯”è¾ƒéº»çƒ¦ ç»´æŒå¤šä¸ªç‰ˆæœ¬çš„æˆæœ¬æ¯”è¾ƒé«˜ éœ€è¦é€šè¿‡storeæˆ–marketçš„ç¡®è®¤ Web Appçš„ä¼˜åŠ¿ å¼€å‘æˆæœ¬ä½Ž é€‚é…å¤šç§ç§»åŠ¨è®¾å¤‡æˆæœ¬ä½Ž é€‚é…å¤šç§ç§»åŠ¨è®¾å¤‡æˆæœ¬ä½Ž è¿­ä»£æ›´æ–°å®¹æ˜“ æ— éœ€å®‰è£…æˆæœ¬ Web Appçš„åŠ£åŠ¿ æµè§ˆçš„ä½“éªŒçŸ­æœŸå†…è¿˜æ— æ³•è¶…è¶ŠåŽŸç”Ÿåº”ç”¨ ä¸æ”¯æŒç¦»çº¿æ¨¡å¼(html5å°†ä¼šè§£å†³è¿™ä¸ªé—®é¢˜) æ¶ˆæ¯æŽ¨é€ä¸å¤ŸåŠæ—¶ æ¶ˆæ¯æŽ¨é€ä¸å¤ŸåŠæ—¶ å¦‚ä½•é€‰æ‹© åäº¤äº’çš„native, åæµè§ˆçš„webï¼ˆäº¤äº’æ˜¯æŒ‡å¤æ‚çš„æ“ä½œï¼‰ å·²ç¨³å®šçš„native, è¯•é”™ä¸­çš„webï¼ˆh5å¼€å‘æˆæœ¬æ¯”åŽŸç”Ÿä½Žï¼‰ è®¿é—®ç¡¬ä»¶native, ä¿¡æ¯å±•ç¤ºWebï¼ˆå½“ç„¶çŽ°åœ¨æœ‰æ¡†æž¶å¯ä»¥ç›´æŽ¥è°ƒç”¨åŽŸç”Ÿè®¾å¤‡ï¼‰ æ ¸å¿ƒåŠŸèƒ½native, è¾…åŠ©æ€§çš„web ä¸Šè¿°æ‘˜è‡ªçŸ¥ä¹Ž å…¶å®žä¸Šé¢éƒ½æ˜¯åºŸè¯ äº†è§£å°±å¯ï¼Œé—²çš„è¯å¯ä»¥ç ”ç©¶ä¸‹ ðŸ™ƒ ä»‹ç»ä¸‹Hbuilderç”±äºŽä¹‹å‰é¡¹ç›®ä½¿ç”¨éœ€æ±‚ä½¿ç”¨Hbuilderè¿›è¡Œå¼€å‘ æ‰€ä»¥ä¸‹é¢å°±å¤§æ¦‚è®²è§£ä¸‹Hbuilderå¼€å‘çš„ç›¸å…³çŸ¥è¯†ã€‚ åŽŸç† htmlè´Ÿè´£é¡µé¢ï¼Œä¹Ÿå°±æ˜¯çš„å†…å®¹å’Œæ¡†æž¶ï¼› jsè´Ÿè´£è°ƒç”¨æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯è°ƒç”¨ä¸€äº›ç§»åŠ¨ç«¯åŽŸç”Ÿï¼› uiè´Ÿè´£æ ·å¼ï¼Œæ¯”è¾ƒæœ‰åçš„bootstrapï¼Œamazeuiï¼ŒjQuery mobileï¼Œmui ä¸‹é¢æ˜¯uié€‰ç”¨muiçš„ä¸€ä¸ªçš„é¡¹ç›®ç»“æž„ CommonåŒ…ä¸‹ä¸ºé¡¹ç›®ä½¿ç”¨åˆ°çš„ä¸€äº›æ ·å¼ï¼ˆmui.cssï¼‰ï¼Œå­—ä½“æ ·å¼ï¼ˆfontsï¼‰ï¼Œå’Œä¸€äº›muiæ¡†æž¶æä¾›çš„ä¸€äº›æŽ§ä»¶éœ€è¦ç”¨åˆ°çš„jså’ŒcssImgåŒ…ä¸‹ä¸ºä½¿ç”¨çš„å›¾ç‰‡èµ„æº ModelsåŒ…ä¸‹ä¸ºå½“å‰é¡¹ç›®çš„ä¸åŒæ¨¡å—ï¼Œé¡¹ç›®çš„ç•Œé¢å’Œé€»è¾‘å¤„ç†å°±åœ¨è¿™ä¸ªåŒ…ä¸‹ Indexä¸ºé¡¹ç›®é»˜è®¤çš„åº”ç”¨å…¥å£ç•Œé¢ Manifestä¸ºé¡¹ç›®å›¾æ ‡æƒé™ä½¿ç”¨çš„åŽŸç”Ÿçš„å¼•ç”¨ç›¸å…³çš„é…ç½® åˆå§‹åŒ–åˆ›å»ºçš„é¡¹ç›®ç›®å½•ç»“æž„å¯èƒ½å’Œä¸Šé¢ä¾‹å­æœ‰å·®åˆ«ï¼Œä½ å¯ä»¥è‡ªå·±é‡æ–°æž„å»ºè¿™ä¸ªå°±çœ‹å…¬å¸è¦æ±‚å’Œä¸ªäººä¹ æƒ¯ã€‚ è‡³äºŽç”¨æ³•è¯·æŸ¥çœ‹w3cå’Œhbuilder.ç›¸å…³æŠ€æœ¯ä¸åœ¨æœ¬ç¯‡åšå®¢è®¨è®ºèŒƒå›´. éœ€è¦wechat muiAppé¡¹ç›®æºç è¯·ç•™è¨€. åŽç»­å°†ä¼šå‘å¸ƒç›¸å…³React Nativeç›¸å…³å¼€å‘ç»éªŒã€‚That`s All. Q: ä½¿ç”¨h5é¡µé¢å¼€å‘appå§ï¼Œè¿™æ ·ä¸ç”¨å‘ç‰ˆæœ¬ç•Œé¢å°±èƒ½æ›´æ–°å‘€ã€‚ A: ðŸ˜· ä¸å¥½æ„æ€ä½ è¯´çš„loadUrl.]]></content>
      <categories>
        <category>é¸¡æ±¤</category>
      </categories>
      <tags>
        <tag>webApp</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hello World]]></title>
    <url>%2F2017%2F04%2F24%2Fhello-world%2F</url>
    <content type="text"><![CDATA[Welcome to Mrx`s Blog! This is my very first post. Thank you for your visit!From this, the unity of knowledge and action]]></content>
      <categories>
        <category>å…¶ä»–</category>
      </categories>
      <tags>
        <tag>æ¬¢è¿Ž</tag>
      </tags>
  </entry>
</search>